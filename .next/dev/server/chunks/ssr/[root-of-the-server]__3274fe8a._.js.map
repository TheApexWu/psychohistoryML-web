{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/amadeuswoo/Documents/GitHub/psychohistory-web/src/components/constants.js"],"sourcesContent":["// src/components/constants.js\n// Parameter definitions and constants for the Polity Simulator\n// Ranges verified against Seshat Equinox 2022 dataset\n\nexport const PARAMETERS = {\n  hierarchy: {\n    min: 1,\n    max: 9,\n    default: 3,\n    step: 1,\n    label: 'Hierarchy',\n    description: '1 = village, 3 = chiefdom, 5 = kingdom, 7 = empire, 9 = superpower',\n    category: 'complexity'\n  },\n  government: {\n    min: 0,\n    max: 1,\n    default: 0.3,\n    step: 0.1,\n    label: 'Government',\n    description: '0 = none, 0.3 = basic, 0.5 = moderate, 0.9 = sophisticated bureaucracy',\n    category: 'complexity'\n  },\n  information: {\n    min: 0,\n    max: 1,\n    default: 0.3,\n    step: 0.1,\n    label: 'Information Systems',\n    description: '0 = oral only, 0.5 = basic writing, 0.9 = full literacy & records',\n    category: 'complexity'\n  },\n  infrastructure: {\n    min: 0,\n    max: 1,\n    default: 0.5,\n    step: 0.1,\n    label: 'Infrastructure',\n    description: '0 = none, 0.5 = roads/irrigation, 1 = advanced (aqueducts, ports)',\n    category: 'complexity'\n  },\n  weapons: {\n    min: 0,\n    max: 6,\n    default: 3,\n    step: 0.5,\n    label: 'Weapons',\n    description: '0 = stone, 2 = bronze, 4 = iron swords, 6 = advanced steel',\n    category: 'warfare'\n  },\n  armor: {\n    min: 0,\n    max: 8,\n    default: 3,\n    step: 1,\n    label: 'Armor',\n    description: '0 = none, 3 = leather/bronze, 5 = chainmail, 8 = full plate',\n    category: 'warfare'\n  },\n  cavalry: {\n    min: 0,\n    max: 1,\n    default: 0,\n    step: 0.5,\n    label: 'Cavalry',\n    description: '0 = none, 0.5 = some mounted units, 1 = significant cavalry',\n    category: 'warfare'\n  },\n  fortifications: {\n    min: 0,\n    max: 11,\n    default: 3,\n    step: 1,\n    label: 'Fortifications',\n    description: '0 = none, 3 = walls, 6 = castles, 9 = advanced fortifications',\n    category: 'warfare'\n  },\n  ironWorking: {\n    min: 0,\n    max: 1,\n    default: 0,\n    step: 1,\n    label: 'Iron Working',\n    description: '0 = no iron, 1 = iron/steel technology',\n    category: 'warfare'\n  },\n  religion: {\n    min: 0,\n    max: 10,\n    default: 2,\n    step: 1,\n    label: 'Religious Hierarchy',\n    description: '0 = animist, 2 = local priests, 5 = state religion, 10 = complex hierarchy',\n    category: 'religion'\n  }\n};\n\n// Order of features as they appear in the scaled feature vector\n// Must match the order in precompute-data.py\nexport const FEATURE_ORDER = [\n  'hierarchy',      // Hier\n  'government',     // Gov\n  'information',    // Info\n  'infrastructure', // Infra\n  'weapons',        // Weapon\n  'armor',          // Armor\n  'cavalry',        // Cavalry\n  'fortifications', // Defense\n  'ironWorking',    // Iron\n  'religion'        // ReligLev\n];\n\nexport const ERAS = ['Ancient', 'Classical', 'Medieval', 'Early Modern'];\n\nexport const ERA_DESCRIPTIONS = {\n  'Ancient': 'Before 500 BCE — Egypt, Mesopotamia, early China, Bronze Age',\n  'Classical': '500 BCE – 500 CE — Rome, Han China, Persia, Greece',\n  'Medieval': '500 – 1500 CE — Byzantine, Tang, Caliphates, feudal Europe',\n  'Early Modern': '1500+ CE — Ottomans, Mughals, Ming, European colonial powers'\n};\n\nexport const CATEGORY_COLORS = {\n  complexity: '#60a5fa',  // blue\n  warfare: '#f87171',     // red\n  religion: '#d4a574'     // gold/tan\n};\n\n// Presets based on ACTUAL Seshat values for similar polities\nexport const PRESETS = {\n  'Simple Chiefdom': {\n    hierarchy: 2,\n    government: 0.1,\n    information: 0,\n    infrastructure: 0.2,\n    weapons: 1,\n    armor: 0,\n    cavalry: 0,\n    fortifications: 0,\n    ironWorking: 0,\n    religion: 1\n  },\n  'Bronze Age Kingdom': {\n    hierarchy: 3,\n    government: 0.2,\n    information: 0.3,\n    infrastructure: 0.4,\n    weapons: 3,\n    armor: 3,\n    cavalry: 0,\n    fortifications: 3,\n    ironWorking: 0,\n    religion: 2\n  },\n  'Roman Republic': {\n    // Based on actual Seshat values\n    hierarchy: 5,\n    government: 0.4,\n    information: 0.9,\n    infrastructure: 0.7,\n    weapons: 5,\n    armor: 7,\n    cavalry: 1,\n    fortifications: 6,\n    ironWorking: 1,\n    religion: 4\n  },\n  'Medieval Kingdom': {\n    hierarchy: 4,\n    government: 0.3,\n    information: 0.4,\n    infrastructure: 0.5,\n    weapons: 4,\n    armor: 5,\n    cavalry: 1,\n    fortifications: 5,\n    ironWorking: 1,\n    religion: 4\n  },\n  'Steppe Nomads': {\n    hierarchy: 2,\n    government: 0.1,\n    information: 0.1,\n    infrastructure: 0.1,\n    weapons: 3,\n    armor: 2,\n    cavalry: 1,\n    fortifications: 0,\n    ironWorking: 1,\n    religion: 1\n  },\n  'Spanish Empire': {\n    // Based on actual Seshat values - one of the most complex\n    hierarchy: 9,\n    government: 0.9,\n    information: 0.9,\n    infrastructure: 0.8,\n    weapons: 6,\n    armor: 7,\n    cavalry: 1,\n    fortifications: 8,\n    ironWorking: 1,\n    religion: 10\n  }\n};\n\n// Default configuration (close to dataset mean)\nexport const DEFAULT_CONFIG = {\n  hierarchy: 3,\n  government: 0.3,\n  information: 0.3,\n  infrastructure: 0.5,\n  weapons: 3,\n  armor: 3,\n  cavalry: 0,\n  fortifications: 3,\n  ironWorking: 0,\n  religion: 2\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":["file:///Users/amadeuswoo/Documents/GitHub/psychohistory-web/src/components/similarity.js"],"sourcesContent":["// src/components/similarity.js\n// Client-side similarity calculations for the Polity Simulator\n\nimport { FEATURE_ORDER } from './constants';\n\n/**\n * Compute cosine similarity between two vectors\n * @param {number[]} a - First vector\n * @param {number[]} b - Second vector\n * @returns {number} Cosine similarity (-1 to 1)\n */\nexport function cosineSimilarity(a, b) {\n  if (a.length !== b.length) {\n    throw new Error('Vectors must have same length');\n  }\n  \n  let dotProduct = 0;\n  let normA = 0;\n  let normB = 0;\n  \n  for (let i = 0; i < a.length; i++) {\n    dotProduct += a[i] * b[i];\n    normA += a[i] * a[i];\n    normB += b[i] * b[i];\n  }\n  \n  const denominator = Math.sqrt(normA) * Math.sqrt(normB);\n  if (denominator === 0) return 0;\n  \n  return dotProduct / denominator;\n}\n\n/**\n * Standardize user input values using pre-computed scaler parameters\n * @param {number[]} values - Raw feature values in FEATURE_ORDER\n * @param {number[]} mean - Mean values from scaler\n * @param {number[]} std - Standard deviation values from scaler\n * @returns {number[]} Standardized values\n */\nexport function standardize(values, mean, std) {\n  return values.map((v, i) => (v - mean[i]) / std[i]);\n}\n\n/**\n * Convert user config object to feature array in correct order\n * @param {Object} config - User configuration with parameter names as keys\n * @returns {number[]} Feature values in FEATURE_ORDER\n */\nexport function configToFeatures(config) {\n  return FEATURE_ORDER.map(key => config[key] ?? 0);\n}\n\n/**\n * Find k most similar polities to user configuration\n * @param {Object} config - User configuration\n * @param {Object[]} polities - Array of polity objects with 'features' array\n * @param {Object} scalerParams - Scaler parameters with 'mean' and 'std' arrays\n * @param {Object} options - Search options\n * @returns {Object} Results with similar polities and duration estimate\n */\nexport function findSimilarPolities(config, polities, scalerParams, options = {}) {\n  const {\n    k = 5,\n    era = null,\n    maxDuration = 1000,\n    minSimilarity = 0\n  } = options;\n  \n  // Convert user config to feature array and standardize\n  const userFeatures = configToFeatures(config);\n  const userScaled = standardize(userFeatures, scalerParams.mean, scalerParams.std);\n  \n  // Filter candidates\n  let candidates = polities.filter(p => p.duration <= maxDuration);\n  if (era) {\n    candidates = candidates.filter(p => p.era === era);\n  }\n  \n  if (candidates.length === 0) {\n    return {\n      similar: [],\n      durationEstimate: null,\n      durationRange: [null, null],\n      confidence: 0,\n      candidateCount: 0,\n      message: era ? `No polities found in ${era} era` : 'No polities found'\n    };\n  }\n  \n  // Compute similarities\n  const withSimilarity = candidates.map(p => ({\n    ...p,\n    similarity: cosineSimilarity(userScaled, p.features)\n  }));\n  \n  // Filter by minimum similarity if specified\n  let filtered = withSimilarity;\n  if (minSimilarity > 0) {\n    filtered = withSimilarity.filter(p => p.similarity >= minSimilarity);\n  }\n  \n  // Sort by similarity (descending) and take top k\n  filtered.sort((a, b) => b.similarity - a.similarity);\n  const topK = filtered.slice(0, k);\n  \n  if (topK.length === 0) {\n    return {\n      similar: [],\n      durationEstimate: null,\n      durationRange: [null, null],\n      confidence: 0,\n      candidateCount: candidates.length,\n      message: 'No sufficiently similar polities found'\n    };\n  }\n  \n  // Compute weighted duration estimate\n  const weights = topK.map(p => Math.max(p.similarity, 0));\n  const totalWeight = weights.reduce((sum, w) => sum + w, 0);\n  \n  let durationEstimate;\n  if (totalWeight > 0) {\n    durationEstimate = topK.reduce((sum, p, i) => sum + weights[i] * p.duration, 0) / totalWeight;\n  } else {\n    durationEstimate = topK.reduce((sum, p) => sum + p.duration, 0) / topK.length;\n  }\n  \n  // Compute confidence score\n  const meanSimilarity = weights.reduce((sum, w) => sum + w, 0) / topK.length;\n  const meanDuration = topK.reduce((sum, p) => sum + p.duration, 0) / topK.length;\n  const durationVariance = topK.reduce((sum, p) => sum + Math.pow(p.duration - meanDuration, 2), 0) / topK.length;\n  const durationStd = Math.sqrt(durationVariance);\n  const cv = durationStd / (meanDuration + 1); // Coefficient of variation\n  const confidence = meanSimilarity / (1 + cv);\n  \n  // Format results\n  const similar = topK.map(p => ({\n    name: p.name,\n    era: p.era,\n    duration: p.duration,\n    start: p.start,\n    end: p.end,\n    region: p.region,\n    similarity: Math.round(p.similarity * 1000) / 10 // Percentage with 1 decimal\n  }));\n  \n  const durations = topK.map(p => p.duration);\n  \n  return {\n    similar,\n    durationEstimate: Math.round(durationEstimate),\n    durationRange: [Math.min(...durations), Math.max(...durations)],\n    confidence: Math.round(confidence * 100) / 100,\n    candidateCount: candidates.length,\n    message: null\n  };\n}\n\n/**\n * Compare duration estimates across all eras\n * @param {Object} config - User configuration\n * @param {Object[]} polities - Array of polity objects\n * @param {Object} scalerParams - Scaler parameters\n * @param {Object} options - Search options (k, maxDuration)\n * @returns {Object[]} Array of era comparison results\n */\nexport function compareEras(config, polities, scalerParams, options = {}) {\n  const eras = ['Ancient', 'Classical', 'Medieval', 'Early Modern'];\n  \n  return eras.map(era => {\n    const result = findSimilarPolities(config, polities, scalerParams, {\n      ...options,\n      era\n    });\n    \n    return {\n      era,\n      durationEstimate: result.durationEstimate,\n      durationRange: result.durationRange,\n      confidence: result.confidence,\n      candidateCount: result.candidateCount,\n      topMatch: result.similar[0] || null\n    };\n  });\n}\n\n/**\n * Get risk assessment based on duration estimate\n * @param {number} durationEstimate - Estimated duration in years\n * @returns {Object} Risk assessment with level and description\n */\nexport function getRiskAssessment(durationEstimate) {\n  if (durationEstimate === null) {\n    return {\n      level: 'unknown',\n      color: '#6b7280',\n      description: 'Insufficient data for assessment'\n    };\n  }\n  \n  if (durationEstimate >= 300) {\n    return {\n      level: 'lower',\n      color: '#22c55e',\n      description: 'Above average longevity expected'\n    };\n  } else if (durationEstimate >= 184) {\n    return {\n      level: 'moderate',\n      color: '#eab308',\n      description: 'Average longevity expected (above median)'\n    };\n  } else if (durationEstimate >= 100) {\n    return {\n      level: 'elevated',\n      color: '#f97316',\n      description: 'Below median longevity expected'\n    };\n  } else {\n    return {\n      level: 'higher',\n      color: '#ef4444',\n      description: 'Significantly below average longevity'\n    };\n  }\n}\n\n/**\n * Format duration for display\n * @param {number} years - Duration in years\n * @returns {string} Formatted string\n */\nexport function formatDuration(years) {\n  if (years === null || years === undefined) return '—';\n  if (years < 100) return `${years} years`;\n  if (years < 200) return `~${Math.round(years / 10) * 10} years`;\n  return `~${Math.round(years / 50) * 50} years`;\n}\n\n/**\n * Format year for display (handles BCE/CE)\n * @param {number} year - Year (negative for BCE)\n * @returns {string} Formatted string\n */\nexport function formatYear(year) {\n  if (year < 0) {\n    return `${Math.abs(year)} BCE`;\n  } else if (year < 100) {\n    return `${year} CE`;\n  } else {\n    return `${year}`;\n  }\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 449, "column": 0}, "map": {"version":3,"sources":["file:///Users/amadeuswoo/Documents/GitHub/psychohistory-web/src/app/predict/page.js"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { \n  PARAMETERS, \n  FEATURE_ORDER, \n  ERAS, \n  ERA_DESCRIPTIONS,\n  PRESETS, \n  DEFAULT_CONFIG,\n  CATEGORY_COLORS \n} from '../../components/constants';\nimport { \n  findSimilarPolities, \n  compareEras, \n  getRiskAssessment,\n  formatDuration,\n  formatYear \n} from '../../components/similarity';\n\nexport default function PredictPage() {\n  const [config, setConfig] = useState(DEFAULT_CONFIG);\n  const [selectedEra, setSelectedEra] = useState(null);\n  const [polities, setPolities] = useState([]);\n  const [scalerParams, setScalerParams] = useState(null);\n  const [results, setResults] = useState(null);\n  const [eraComparison, setEraComparison] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [activePreset, setActivePreset] = useState(null);\n\n  // Load data on mount\n  useEffect(() => {\n    async function loadData() {\n      try {\n        const [politiesRes, scalerRes] = await Promise.all([\n          fetch('/data/polities.json'),\n          fetch('/data/scaler-params.json')\n        ]);\n        \n        const politiesData = await politiesRes.json();\n        const scalerData = await scalerRes.json();\n        \n        setPolities(politiesData);\n        setScalerParams(scalerData);\n        setIsLoading(false);\n      } catch (error) {\n        console.error('Failed to load data:', error);\n        setIsLoading(false);\n      }\n    }\n    loadData();\n  }, []);\n\n  // Compute results when config or era changes\n  useEffect(() => {\n    if (!polities.length || !scalerParams) return;\n\n    const similarityResults = findSimilarPolities(\n      config, \n      polities, \n      scalerParams, \n      { k: 5, era: selectedEra, maxDuration: 1000 }\n    );\n    \n    const eraResults = compareEras(config, polities, scalerParams, { k: 5, maxDuration: 1000 });\n    \n    setResults(similarityResults);\n    setEraComparison(eraResults);\n  }, [config, selectedEra, polities, scalerParams]);\n\n  const handleParamChange = (key, value) => {\n    const param = PARAMETERS[key];\n    const numValue = parseFloat(value);\n    // Clamp to valid range\n    const clampedValue = Math.min(Math.max(numValue, param.min), param.max);\n    setConfig(prev => ({ ...prev, [key]: clampedValue }));\n    setActivePreset(null);\n  };\n\n  const handlePresetSelect = (presetName) => {\n    setConfig(PRESETS[presetName]);\n    setActivePreset(presetName);\n  };\n\n  const risk = results ? getRiskAssessment(results.durationEstimate) : null;\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-[#0a0a0a] flex items-center justify-center\">\n        <div className=\"text-gray-400 text-lg\">Loading historical data...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[#0a0a0a] text-gray-100 font-[system-ui]\">\n      {/* Header */}\n      <header className=\"border-b border-gray-800 bg-[#0a0a0a]/95 backdrop-blur sticky top-0 z-10\">\n        <div className=\"max-w-7xl mx-auto px-8 py-5\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <a href=\"/\" className=\"text-2xl font-semibold tracking-tight text-white hover:text-gray-300 transition\">\n                PsychohistoryML\n              </a>\n              <span className=\"ml-3 text-base text-gray-500\">/ Simulator</span>\n            </div>\n            <nav className=\"flex gap-8 text-base\">\n              <a href=\"/research\" className=\"text-gray-400 hover:text-white transition\">Research</a>\n              <a href=\"/predict/methodology\" className=\"text-gray-400 hover:text-white transition\">Methodology</a>\n            </nav>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"max-w-7xl mx-auto px-8 py-10\">\n        {/* Title */}\n        <div className=\"mb-10\">\n          <h1 className=\"text-4xl font-bold mb-3\">Polity Simulator</h1>\n          <p className=\"text-lg text-gray-400\">\n            Configure a society and find historically similar polities from the Seshat database.\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-5 gap-10\">\n          {/* Left Column: Controls (3/5 width) */}\n          <div className=\"lg:col-span-3 space-y-8\">\n            \n            {/* Presets */}\n            <div className=\"bg-gray-900/50 rounded-xl p-5 border border-gray-800\">\n              <h3 className=\"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4\">Quick Presets</h3>\n              <div className=\"flex flex-wrap gap-3\">\n                {Object.keys(PRESETS).map(preset => (\n                  <button\n                    key={preset}\n                    onClick={() => handlePresetSelect(preset)}\n                    className={`px-4 py-2 rounded-lg text-sm font-medium transition ${\n                      activePreset === preset\n                        ? 'bg-blue-600 text-white'\n                        : 'bg-gray-800 text-gray-300 hover:bg-gray-700'\n                    }`}\n                  >\n                    {preset}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Parameter Sliders */}\n            <div className=\"bg-gray-900/50 rounded-xl p-6 border border-gray-800\">\n              <h3 className=\"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-6\">Configure Your Polity</h3>\n              \n              {/* Complexity */}\n              <div className=\"mb-8\">\n                <h4 className=\"text-xs uppercase tracking-widest text-blue-400 mb-4 flex items-center gap-2 font-semibold\">\n                  <span className=\"w-2.5 h-2.5 rounded-full bg-blue-400\"></span>\n                  Complexity\n                </h4>\n                <div className=\"space-y-5\">\n                  {Object.entries(PARAMETERS)\n                    .filter(([_, p]) => p.category === 'complexity')\n                    .map(([key, param]) => (\n                      <ParameterControl\n                        key={key}\n                        paramKey={key}\n                        param={param}\n                        value={config[key]}\n                        onChange={handleParamChange}\n                      />\n                    ))}\n                </div>\n              </div>\n\n              {/* Warfare */}\n              <div className=\"mb-8\">\n                <h4 className=\"text-xs uppercase tracking-widest text-red-400 mb-4 flex items-center gap-2 font-semibold\">\n                  <span className=\"w-2.5 h-2.5 rounded-full bg-red-400\"></span>\n                  Warfare\n                </h4>\n                <div className=\"space-y-5\">\n                  {Object.entries(PARAMETERS)\n                    .filter(([_, p]) => p.category === 'warfare')\n                    .map(([key, param]) => (\n                      <ParameterControl\n                        key={key}\n                        paramKey={key}\n                        param={param}\n                        value={config[key]}\n                        onChange={handleParamChange}\n                      />\n                    ))}\n                </div>\n              </div>\n\n              {/* Religion */}\n              <div>\n                <h4 className=\"text-xs uppercase tracking-widest text-amber-400 mb-4 flex items-center gap-2 font-semibold\">\n                  <span className=\"w-2.5 h-2.5 rounded-full bg-amber-400\"></span>\n                  Religion\n                </h4>\n                <div className=\"space-y-5\">\n                  {Object.entries(PARAMETERS)\n                    .filter(([_, p]) => p.category === 'religion')\n                    .map(([key, param]) => (\n                      <ParameterControl\n                        key={key}\n                        paramKey={key}\n                        param={param}\n                        value={config[key]}\n                        onChange={handleParamChange}\n                      />\n                    ))}\n                </div>\n              </div>\n            </div>\n\n            {/* Era Filter */}\n            <div className=\"bg-gray-900/50 rounded-xl p-5 border border-gray-800\">\n              <h3 className=\"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4\">Filter by Era</h3>\n              <div className=\"flex flex-wrap gap-3\">\n                <button\n                  onClick={() => setSelectedEra(null)}\n                  className={`px-4 py-2 rounded-lg text-sm font-medium transition ${\n                    selectedEra === null\n                      ? 'bg-gray-600 text-white'\n                      : 'bg-gray-800 text-gray-400 hover:bg-gray-700'\n                  }`}\n                >\n                  All Eras\n                </button>\n                {ERAS.map(era => (\n                  <button\n                    key={era}\n                    onClick={() => setSelectedEra(era)}\n                    className={`px-4 py-2 rounded-lg text-sm font-medium transition ${\n                      selectedEra === era\n                        ? 'bg-gray-600 text-white'\n                        : 'bg-gray-800 text-gray-400 hover:bg-gray-700'\n                    }`}\n                  >\n                    {era}\n                  </button>\n                ))}\n              </div>\n              {selectedEra && (\n                <p className=\"mt-3 text-sm text-gray-500\">{ERA_DESCRIPTIONS[selectedEra]}</p>\n              )}\n            </div>\n          </div>\n\n          {/* Right Column: Results (2/5 width) */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            \n            {/* Duration Estimate */}\n            {results && (\n              <div className=\"bg-gray-900/50 rounded-xl p-6 border border-gray-800\">\n                <h3 className=\"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-6\">Duration Estimate</h3>\n                \n                <div className=\"text-center mb-6\">\n                  <div className=\"text-6xl font-bold tracking-tight\" style={{ color: risk?.color }}>\n                    {results.durationEstimate ? `~${results.durationEstimate}` : '—'}\n                  </div>\n                  <div className=\"text-lg text-gray-400 mt-1\">years</div>\n                </div>\n\n                {risk && (\n                  <div \n                    className=\"text-center text-sm font-medium px-4 py-2 rounded-full mx-auto w-fit\"\n                    style={{ \n                      backgroundColor: `${risk.color}20`,\n                      color: risk.color\n                    }}\n                  >\n                    {risk.description}\n                  </div>\n                )}\n\n                {results.durationRange[0] !== null && (\n                  <div className=\"mt-4 text-center text-sm text-gray-500\">\n                    Range: {results.durationRange[0]} – {results.durationRange[1]} years\n                  </div>\n                )}\n\n                <div className=\"mt-6 pt-5 border-t border-gray-800\">\n                  <div className=\"flex justify-between text-sm text-gray-500 mb-2\">\n                    <span>Confidence</span>\n                    <span>{(results.confidence * 100).toFixed(0)}%</span>\n                  </div>\n                  <div className=\"h-2 bg-gray-800 rounded-full overflow-hidden\">\n                    <div \n                      className=\"h-full bg-blue-500 rounded-full transition-all duration-300\"\n                      style={{ width: `${results.confidence * 100}%` }}\n                    />\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Similar Polities */}\n            {results && results.similar.length > 0 && (\n              <div className=\"bg-gray-900/50 rounded-xl p-6 border border-gray-800\">\n                <h3 className=\"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4\">\n                  Similar Historical Polities\n                </h3>\n                <div className=\"space-y-3\">\n                  {results.similar.map((polity, i) => (\n                    <div \n                      key={i}\n                      className=\"p-4 bg-gray-800/50 rounded-lg hover:bg-gray-800 transition cursor-pointer\"\n                    >\n                      <div className=\"flex justify-between items-start\">\n                        <div>\n                          <div className=\"font-semibold text-white text-base\">{polity.name}</div>\n                          <div className=\"text-sm text-gray-500 mt-1\">\n                            {polity.era} · {formatYear(polity.start)} – {formatYear(polity.end)}\n                          </div>\n                        </div>\n                        <div className=\"text-right\">\n                          <div className=\"text-base font-semibold text-blue-400\">\n                            {polity.similarity}%\n                          </div>\n                          <div className=\"text-sm text-gray-500\">\n                            {polity.duration} yrs\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n                <div className=\"mt-4 text-xs text-gray-600 text-center\">\n                  Based on {results.candidateCount} polities in database\n                </div>\n              </div>\n            )}\n\n            {/* Era Comparison */}\n            {eraComparison.length > 0 && !selectedEra && (\n              <div className=\"bg-gray-900/50 rounded-xl p-6 border border-gray-800\">\n                <h3 className=\"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4\">\n                  Same Config, Different Eras\n                </h3>\n                <div className=\"space-y-3\">\n                  {eraComparison.map(era => (\n                    <div \n                      key={era.era}\n                      className=\"flex justify-between items-center py-3 border-b border-gray-800 last:border-0\"\n                    >\n                      <span className=\"text-base text-gray-300\">{era.era}</span>\n                      <div className=\"text-right\">\n                        <span className=\"font-semibold text-white text-base\">\n                          {era.durationEstimate ? `${era.durationEstimate} yrs` : '—'}\n                        </span>\n                        {era.topMatch && (\n                          <div className=\"text-xs text-gray-500 truncate max-w-[140px]\">\n                            e.g. {era.topMatch.name}\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n                <p className=\"mt-4 text-xs text-gray-600\">\n                  Historical context changes outcomes dramatically.\n                </p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Methodology Link */}\n        <div className=\"mt-16 text-center\">\n          <a \n            href=\"/predict/methodology\" \n            className=\"text-gray-500 hover:text-gray-300 text-base transition\"\n          >\n            How does this work? Read the methodology →\n          </a>\n        </div>\n      </main>\n    </div>\n  );\n}\n\n// Parameter Control Component with Slider + Number Input\nfunction ParameterControl({ paramKey, param, value, onChange }) {\n  const [inputValue, setInputValue] = useState(value.toString());\n\n  // Sync input when value changes externally (e.g., preset)\n  useEffect(() => {\n    setInputValue(value.toString());\n  }, [value]);\n\n  const handleInputChange = (e) => {\n    setInputValue(e.target.value);\n  };\n\n  const handleInputBlur = () => {\n    const num = parseFloat(inputValue);\n    if (!isNaN(num)) {\n      onChange(paramKey, num);\n    } else {\n      setInputValue(value.toString());\n    }\n  };\n\n  const handleInputKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.target.blur();\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"flex justify-between items-center mb-2\">\n        <label className=\"text-base text-gray-200 font-medium\">{param.label}</label>\n        <input\n          type=\"text\"\n          value={inputValue}\n          onChange={handleInputChange}\n          onBlur={handleInputBlur}\n          onKeyDown={handleInputKeyDown}\n          className=\"w-16 px-2 py-1 text-right text-base font-medium bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-blue-500 transition\"\n        />\n      </div>\n      <input\n        type=\"range\"\n        min={param.min}\n        max={param.max}\n        step={param.step}\n        value={value}\n        onChange={(e) => onChange(paramKey, e.target.value)}\n        className=\"w-full h-2 bg-gray-700 rounded-full appearance-none cursor-pointer\n                   [&::-webkit-slider-thumb]:appearance-none\n                   [&::-webkit-slider-thumb]:w-4\n                   [&::-webkit-slider-thumb]:h-4\n                   [&::-webkit-slider-thumb]:rounded-full\n                   [&::-webkit-slider-thumb]:bg-white\n                   [&::-webkit-slider-thumb]:cursor-pointer\n                   [&::-webkit-slider-thumb]:transition\n                   [&::-webkit-slider-thumb]:hover:bg-gray-200\n                   [&::-webkit-slider-thumb]:shadow-md\"\n      />\n      <p className=\"text-sm text-gray-500 mt-1.5\">{param.description}</p>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1337, "column": 0}, "map": {"version":3,"sources":["file:///Users/amadeuswoo/Documents/GitHub/psychohistory-web/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 1356, "column": 0}, "map": {"version":3,"sources":["file:///Users/amadeuswoo/Documents/GitHub/psychohistory-web/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 1361, "column": 0}, "map": {"version":3,"sources":["file:///Users/amadeuswoo/Documents/GitHub/psychohistory-web/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}
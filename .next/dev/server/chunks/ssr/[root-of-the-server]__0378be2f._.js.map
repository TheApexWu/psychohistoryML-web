{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/amadeuswoo/Documents/GitHub/psychohistory-web/src/components/visualizations/AnimatedROC.jsx"],"sourcesContent":["// src/components/visualizations/AnimatedROC.jsx\n'use client'\n\nimport { useState, useEffect } from 'react'\n\n// Actual data points from your 07_roc_curves.png\nconst rocData = {\n  randomForest: [\n    [0, 0], [0.05, 0.42], [0.1, 0.54], [0.15, 0.62], [0.2, 0.65],\n    [0.25, 0.69], [0.3, 0.69], [0.35, 0.69], [0.4, 0.77], [0.45, 0.77],\n    [0.5, 0.81], [0.55, 0.85], [0.6, 1.0], [1, 1]\n  ],\n  logistic: [\n    [0, 0], [0.05, 0.15], [0.1, 0.15], [0.15, 0.31], [0.2, 0.46],\n    [0.25, 0.58], [0.3, 0.58], [0.35, 0.62], [0.4, 0.65], [0.45, 0.65],\n    [0.5, 0.69], [0.6, 0.85], [0.7, 0.88], [0.8, 0.92], [0.9, 0.96], [1, 1]\n  ]\n}\n\nexport default function AnimatedROC() {\n  const [progress, setProgress] = useState(0)\n  const [isVisible, setIsVisible] = useState(false)\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setIsVisible(true)\n        }\n      },\n      { threshold: 0.3 }\n    )\n\n    const element = document.getElementById('roc-chart')\n    if (element) observer.observe(element)\n\n    return () => observer.disconnect()\n  }, [])\n\n  useEffect(() => {\n    if (!isVisible) return\n    \n    const duration = 2000\n    const start = Date.now()\n    \n    const animate = () => {\n      const elapsed = Date.now() - start\n      const newProgress = Math.min(elapsed / duration, 1)\n      setProgress(newProgress)\n      \n      if (newProgress < 1) {\n        requestAnimationFrame(animate)\n      }\n    }\n    \n    requestAnimationFrame(animate)\n  }, [isVisible])\n\n  const width = 400\n  const height = 400\n  const padding = 50\n\n  const scaleX = (x) => padding + x * (width - 2 * padding)\n  const scaleY = (y) => height - padding - y * (height - 2 * padding)\n\n  const getPathData = (points, progress) => {\n    const visiblePoints = Math.floor(points.length * progress)\n    if (visiblePoints < 2) return ''\n    \n    return points.slice(0, visiblePoints).map((point, i) => {\n      const x = scaleX(point[0])\n      const y = scaleY(point[1])\n      return i === 0 ? `M ${x} ${y}` : `L ${x} ${y}`\n    }).join(' ')\n  }\n\n  return (\n    <div id=\"roc-chart\" className=\"roc-container\">\n      <h3 className=\"chart-title\">Model Performance</h3>\n      <svg viewBox={`0 0 ${width} ${height}`} className=\"roc-svg\">\n        {/* Grid lines */}\n        {[0.2, 0.4, 0.6, 0.8].map((v) => (\n          <g key={v}>\n            <line\n              x1={scaleX(v)} y1={scaleY(0)}\n              x2={scaleX(v)} y2={scaleY(1)}\n              stroke=\"var(--border)\" strokeWidth=\"1\" opacity=\"0.3\"\n            />\n            <line\n              x1={scaleX(0)} y1={scaleY(v)}\n              x2={scaleX(1)} y2={scaleY(v)}\n              stroke=\"var(--border)\" strokeWidth=\"1\" opacity=\"0.3\"\n            />\n          </g>\n        ))}\n\n        {/* Diagonal (random) line */}\n        <line\n          x1={scaleX(0)} y1={scaleY(0)}\n          x2={scaleX(1)} y2={scaleY(1)}\n          stroke=\"var(--text-muted)\" strokeWidth=\"1\" strokeDasharray=\"5,5\" opacity=\"0.5\"\n        />\n\n        {/* ROC Curves */}\n        <path\n          d={getPathData(rocData.logistic, progress)}\n          fill=\"none\"\n          stroke=\"#6b7280\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n        />\n        <path\n          d={getPathData(rocData.randomForest, progress)}\n          fill=\"none\"\n          stroke=\"var(--accent)\"\n          strokeWidth=\"3\"\n          strokeLinecap=\"round\"\n        />\n\n        {/* Axes */}\n        <line x1={scaleX(0)} y1={scaleY(0)} x2={scaleX(1)} y2={scaleY(0)} stroke=\"var(--text-muted)\" strokeWidth=\"1\" />\n        <line x1={scaleX(0)} y1={scaleY(0)} x2={scaleX(0)} y2={scaleY(1)} stroke=\"var(--text-muted)\" strokeWidth=\"1\" />\n\n        {/* Labels */}\n        <text x={width / 2} y={height - 10} textAnchor=\"middle\" className=\"axis-label\">\n          False Positive Rate\n        </text>\n        <text x={15} y={height / 2} textAnchor=\"middle\" transform={`rotate(-90, 15, ${height / 2})`} className=\"axis-label\">\n          True Positive Rate\n        </text>\n      </svg>\n\n      {/* Legend */}\n      <div className=\"roc-legend\">\n        <div className=\"legend-item\">\n          <span className=\"legend-line accent\"></span>\n          <span>Random Forest (AUC = 0.744)</span>\n        </div>\n        <div className=\"legend-item\">\n          <span className=\"legend-line muted\"></span>\n          <span>Logistic Regression (AUC = 0.669)</span>\n        </div>\n        <div className=\"legend-item\">\n          <span className=\"legend-line dashed\"></span>\n          <span>Random Chance (AUC = 0.500)</span>\n        </div>\n      </div>\n\n      <style jsx>{`\n        .roc-container {\n          background: var(--bg-secondary);\n          border: 1px solid var(--border);\n          border-radius: 4px;\n          padding: 2rem;\n          margin: 2rem 0;\n        }\n        .chart-title {\n          font-family: var(--font-jetbrains), monospace;\n          font-size: 0.8rem;\n          text-transform: uppercase;\n          letter-spacing: 0.1em;\n          color: var(--text-muted);\n          margin-bottom: 1rem;\n        }\n        .roc-svg {\n          width: 100%;\n          max-width: 400px;\n          display: block;\n          margin: 0 auto;\n        }\n        .axis-label {\n          font-family: var(--font-jetbrains), monospace;\n          font-size: 10px;\n          fill: var(--text-muted);\n        }\n        .roc-legend {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 1.5rem;\n          justify-content: center;\n          margin-top: 1.5rem;\n          font-size: 0.85rem;\n          color: var(--text-muted);\n        }\n        .legend-item {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n        }\n        .legend-line {\n          width: 24px;\n          height: 3px;\n          border-radius: 2px;\n        }\n        .legend-line.accent {\n          background: var(--accent);\n        }\n        .legend-line.muted {\n          background: #6b7280;\n        }\n        .legend-line.dashed {\n          background: repeating-linear-gradient(\n            90deg,\n            var(--text-muted) 0px,\n            var(--text-muted) 4px,\n            transparent 4px,\n            transparent 8px\n          );\n        }\n      `}</style>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 442, "column": 0}, "map": {"version":3,"sources":["file:///Users/amadeuswoo/Documents/GitHub/psychohistory-web/src/components/visualizations/FeatureImportance.jsx"],"sourcesContent":["// src/components/visualizations/FeatureImportance.jsx\n'use client'\n\nimport { useState, useEffect } from 'react'\n\n// Actual feature importance from Random Forest classifier (NB07)\n// With human-readable labels\nconst features = [\n  // Religion (27.2% total)\n  { \n    name: 'ideol_score', \n    label: 'Ideology',\n    description: 'Ideological cohesion and shared belief systems',\n    importance: 12.7, \n    category: 'religion', \n    effect: 'context-dependent' \n  },\n  { \n    name: 'total_rel', \n    label: 'Religious institutions',\n    description: 'Total religious/legitimation infrastructure',\n    importance: 7.2, \n    category: 'religion', \n    effect: 'stabilizing' \n  },\n  { \n    name: 'moral_score', \n    label: 'Moralizing religion',\n    description: 'Presence of moral codes enforced by religion',\n    importance: 5.2, \n    category: 'religion', \n    effect: 'slight destabilizing' \n  },\n  { \n    name: 'legit_score', \n    label: 'Divine legitimation',\n    description: 'Rulers legitimated by gods or religious authority',\n    importance: 2.2, \n    category: 'religion', \n    effect: 'slight stabilizing' \n  },\n  \n  // Complexity (43.7% total)\n  { \n    name: 'PC1_hier', \n    label: 'Hierarchy depth',\n    description: 'Administrative, military, and religious hierarchy levels',\n    importance: 11.5, \n    category: 'complexity', \n    effect: 'slight stabilizing' \n  },\n  { \n    name: 'PC2_hier', \n    label: 'Information systems',\n    description: 'Writing, record-keeping, and information infrastructure',\n    importance: 8.8, \n    category: 'complexity', \n    effect: 'stabilizing' \n  },\n  { \n    name: 'PC3_hier', \n    label: 'Government scale',\n    description: 'Territorial and population scale of governance',\n    importance: 8.8, \n    category: 'complexity', \n    effect: 'destabilizing' \n  },\n  { \n    name: 'PC1_squared', \n    label: 'Extreme hierarchy',\n    description: 'Nonlinear effect: very high complexity becomes risky',\n    importance: 7.5, \n    category: 'complexity', \n    effect: 'destabilizing' \n  },\n  { \n    name: 'PC1_x_PC2', \n    label: 'Hierarchy + information',\n    description: 'Interaction: complex societies with good records',\n    importance: 7.1, \n    category: 'complexity', \n    effect: 'stabilizing' \n  },\n  \n  // Warfare (29.1% total)\n  { \n    name: 'total_warfare', \n    label: 'Military technology',\n    description: 'Overall military technological sophistication',\n    importance: 5.5, \n    category: 'warfare', \n    effect: 'slight destabilizing' \n  },\n  { \n    name: 'weapons', \n    label: 'Weapons diversity',\n    description: 'Variety of weapon types available',\n    importance: 4.8, \n    category: 'warfare', \n    effect: 'slight stabilizing' \n  },\n  { \n    name: 'advanced_tech', \n    label: 'Advanced military tech',\n    description: 'Iron weapons, siege equipment, naval capacity',\n    importance: 4.7, \n    category: 'warfare', \n    effect: 'slight stabilizing' \n  },\n  { \n    name: 'material', \n    label: 'Material sophistication',\n    description: 'Quality of materials (bronze, iron, steel)',\n    importance: 4.5, \n    category: 'warfare', \n    effect: 'destabilizing' \n  },\n  { \n    name: 'fortifications', \n    label: 'Fortifications',\n    description: 'Defensive walls, castles, fortified cities',\n    importance: 4.3, \n    category: 'warfare', \n    effect: 'destabilizing' \n  },\n  { \n    name: 'cavalry', \n    label: 'Cavalry',\n    description: 'Mounted military units',\n    importance: 2.7, \n    category: 'warfare', \n    effect: 'stabilizing' \n  },\n  { \n    name: 'armor', \n    label: 'Armor',\n    description: 'Personal protective equipment',\n    importance: 2.6, \n    category: 'warfare', \n    effect: 'slight stabilizing' \n  },\n]\n\nconst categoryColors = {\n  religion: '#d4a574',    // gold/tan\n  complexity: '#60a5fa',  // blue\n  warfare: '#f87171',     // red\n}\n\nconst categoryLabels = {\n  religion: 'Religion (27%)',\n  complexity: 'Complexity (44%)',\n  warfare: 'Warfare (29%)',\n}\n\nexport default function FeatureImportance() {\n  const [progress, setProgress] = useState(0)\n  const [isVisible, setIsVisible] = useState(false)\n  const [hoveredFeature, setHoveredFeature] = useState(null)\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) setIsVisible(true)\n      },\n      { threshold: 0.2 }\n    )\n\n    const element = document.getElementById('feature-chart')\n    if (element) observer.observe(element)\n\n    return () => observer.disconnect()\n  }, [])\n\n  useEffect(() => {\n    if (!isVisible) return\n    \n    const duration = 1500\n    const start = Date.now()\n    \n    const animate = () => {\n      const elapsed = Date.now() - start\n      const newProgress = Math.min(elapsed / duration, 1)\n      setProgress(1 - Math.pow(1 - newProgress, 3))\n      \n      if (newProgress < 1) requestAnimationFrame(animate)\n    }\n    \n    requestAnimationFrame(animate)\n  }, [isVisible])\n\n  // Sort by importance, show top 10\n  const topFeatures = [...features]\n    .sort((a, b) => b.importance - a.importance)\n    .slice(0, 10)\n\n  const maxImportance = Math.max(...topFeatures.map(f => f.importance))\n\n  return (\n    <div id=\"feature-chart\" className=\"feature-container\">\n      <h3 className=\"chart-title\">Feature Importance</h3>\n      <p className=\"chart-subtitle\">\n        How much each feature contributes to model decisions (not direction)\n      </p>\n\n      <div className=\"legend\">\n        {Object.entries(categoryLabels).map(([key, label]) => (\n          <div key={key} className=\"legend-item\">\n            <span \n              className=\"legend-color\" \n              style={{ backgroundColor: categoryColors[key] }}\n            />\n            <span>{label}</span>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"bars\">\n        {topFeatures.map((feature, index) => (\n          <div \n            key={feature.name}\n            className={`bar-row ${hoveredFeature === feature.name ? 'hovered' : ''}`}\n            onMouseEnter={() => setHoveredFeature(feature.name)}\n            onMouseLeave={() => setHoveredFeature(null)}\n            style={{\n              opacity: isVisible ? 1 : 0,\n              transform: isVisible ? 'translateX(0)' : 'translateX(-20px)',\n              transition: `all 0.4s ease ${index * 80}ms`\n            }}\n          >\n            <span className=\"feature-name\">{feature.label}</span>\n            <div className=\"bar-container\">\n              <div \n                className=\"bar\"\n                style={{\n                  width: `${(feature.importance / maxImportance) * 100 * progress}%`,\n                  backgroundColor: categoryColors[feature.category],\n                }}\n              />\n            </div>\n            <span className=\"importance-value\">\n              {(feature.importance * progress).toFixed(1)}%\n            </span>\n          </div>\n        ))}\n      </div>\n\n      {/* Hover detail */}\n      {hoveredFeature && (\n        <div className=\"hover-detail\">\n          {(() => {\n            const f = features.find(x => x.name === hoveredFeature)\n            return f ? (\n              <>\n                <strong>{f.label}</strong>\n                <br />\n                <span className=\"description\">{f.description}</span>\n                <br />\n                <span className=\"effect-label\">Effect on stability: {f.effect}</span>\n              </>\n            ) : null\n          })()}\n        </div>\n      )}\n\n      <div className=\"insight-callout\">\n        <p>\n          <strong>Note:</strong> Importance measures how often the model uses a feature \n          for decisions, not whether high values help or hurt stability. Hover over bars for details.\n        </p>\n      </div>\n\n      <style jsx>{`\n        .feature-container {\n          background: var(--bg-secondary);\n          border: 1px solid var(--border);\n          border-radius: 4px;\n          padding: 2rem;\n          margin: 2rem 0;\n        }\n        .chart-title {\n          font-family: var(--font-jetbrains), monospace;\n          font-size: 0.8rem;\n          text-transform: uppercase;\n          letter-spacing: 0.1em;\n          color: var(--text-muted);\n          margin-bottom: 0.25rem;\n        }\n        .chart-subtitle {\n          font-size: 0.85rem;\n          color: var(--text-muted);\n          margin-bottom: 1.5rem;\n        }\n        .legend {\n          display: flex;\n          gap: 1.5rem;\n          margin-bottom: 1.5rem;\n          flex-wrap: wrap;\n        }\n        .legend-item {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n          font-size: 0.75rem;\n          color: var(--text-muted);\n        }\n        .legend-color {\n          width: 12px;\n          height: 12px;\n          border-radius: 2px;\n        }\n        .bars {\n          display: flex;\n          flex-direction: column;\n          gap: 0.5rem;\n        }\n        .bar-row {\n          display: grid;\n          grid-template-columns: 140px 1fr 50px;\n          align-items: center;\n          gap: 0.75rem;\n          padding: 0.25rem 0;\n          border-radius: 2px;\n          transition: background 0.2s;\n          cursor: pointer;\n        }\n        .bar-row.hovered {\n          background: rgba(255, 255, 255, 0.03);\n        }\n        .feature-name {\n          font-size: 0.8rem;\n          color: var(--text-muted);\n          text-align: right;\n        }\n        .bar-container {\n          height: 20px;\n          background: var(--bg-primary);\n          border-radius: 2px;\n          overflow: hidden;\n        }\n        .bar {\n          height: 100%;\n          border-radius: 2px;\n          transition: width 0.1s linear;\n        }\n        .importance-value {\n          font-family: var(--font-jetbrains), monospace;\n          font-size: 0.75rem;\n          color: var(--text-primary);\n          text-align: right;\n        }\n        .hover-detail {\n          margin-top: 1rem;\n          padding: 0.75rem;\n          background: var(--bg-primary);\n          border-radius: 4px;\n          font-size: 0.8rem;\n          color: var(--text-muted);\n          line-height: 1.6;\n        }\n        .hover-detail strong {\n          color: var(--text-primary);\n        }\n        .description {\n          color: var(--text-muted);\n        }\n        .effect-label {\n          color: var(--accent);\n        }\n        .insight-callout {\n          margin-top: 1.5rem;\n          padding: 1rem;\n          background: var(--bg-primary);\n          border-left: 3px solid var(--accent-dim);\n          border-radius: 0 4px 4px 0;\n        }\n        .insight-callout p {\n          font-size: 0.8rem;\n          color: var(--text-muted);\n          margin: 0;\n          line-height: 1.5;\n        }\n        .insight-callout strong {\n          color: var(--accent);\n        }\n\n        @media (max-width: 600px) {\n          .bar-row {\n            grid-template-columns: 110px 1fr 40px;\n          }\n          .feature-name {\n            font-size: 0.7rem;\n          }\n        }\n      `}</style>\n    </div>\n  )\n}\n"],"names":[],"mappings":"AAAA,sDAAsD;;;;;;;AAGtD;AAFA;;;;AAIA,iEAAiE;AACjE,6BAA6B;AAC7B,MAAM,WAAW;IACf,yBAAyB;IACzB;QACE,MAAM;QACN,OAAO;QACP,aAAa;QACb,YAAY;QACZ,UAAU;QACV,QAAQ;IACV;IACA;QACE,MAAM;QACN,OAAO;QACP,aAAa;QACb,YAAY;QACZ,UAAU;QACV,QAAQ;IACV;IACA;QACE,MAAM;QACN,OAAO;QACP,aAAa;QACb,YAAY;QACZ,UAAU;QACV,QAAQ;IACV;IACA;QACE,MAAM;QACN,OAAO;QACP,aAAa;QACb,YAAY;QACZ,UAAU;QACV,QAAQ;IACV;IAEA,2BAA2B;IAC3B;QACE,MAAM;QACN,OAAO;QACP,aAAa;QACb,YAAY;QACZ,UAAU;QACV,QAAQ;IACV;IACA;QACE,MAAM;QACN,OAAO;QACP,aAAa;QACb,YAAY;QACZ,UAAU;QACV,QAAQ;IACV;IACA;QACE,MAAM;QACN,OAAO;QACP,aAAa;QACb,YAAY;QACZ,UAAU;QACV,QAAQ;IACV;IACA;QACE,MAAM;QACN,OAAO;QACP,aAAa;QACb,YAAY;QACZ,UAAU;QACV,QAAQ;IACV;IACA;QACE,MAAM;QACN,OAAO;QACP,aAAa;QACb,YAAY;QACZ,UAAU;QACV,QAAQ;IACV;IAEA,wBAAwB;IACxB;QACE,MAAM;QACN,OAAO;QACP,aAAa;QACb,YAAY;QACZ,UAAU;QACV,QAAQ;IACV;IACA;QACE,MAAM;QACN,OAAO;QACP,aAAa;QACb,YAAY;QACZ,UAAU;QACV,QAAQ;IACV;IACA;QACE,MAAM;QACN,OAAO;QACP,aAAa;QACb,YAAY;QACZ,UAAU;QACV,QAAQ;IACV;IACA;QACE,MAAM;QACN,OAAO;QACP,aAAa;QACb,YAAY;QACZ,UAAU;QACV,QAAQ;IACV;IACA;QACE,MAAM;QACN,OAAO;QACP,aAAa;QACb,YAAY;QACZ,UAAU;QACV,QAAQ;IACV;IACA;QACE,MAAM;QACN,OAAO;QACP,aAAa;QACb,YAAY;QACZ,UAAU;QACV,QAAQ;IACV;IACA;QACE,MAAM;QACN,OAAO;QACP,aAAa;QACb,YAAY;QACZ,UAAU;QACV,QAAQ;IACV;CACD;AAED,MAAM,iBAAiB;IACrB,UAAU;IACV,YAAY;IACZ,SAAS;AACX;AAEA,MAAM,iBAAiB;IACrB,UAAU;IACV,YAAY;IACZ,SAAS;AACX;AAEe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,gQAAQ,EAAC;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gQAAQ,EAAC;IAC3C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,gQAAQ,EAAC;IAErD,IAAA,iQAAS,EAAC;QACR,MAAM,WAAW,IAAI,qBACnB,CAAC,CAAC,MAAM;YACN,IAAI,MAAM,cAAc,EAAE,aAAa;QACzC,GACA;YAAE,WAAW;QAAI;QAGnB,MAAM,UAAU,SAAS,cAAc,CAAC;QACxC,IAAI,SAAS,SAAS,OAAO,CAAC;QAE9B,OAAO,IAAM,SAAS,UAAU;IAClC,GAAG,EAAE;IAEL,IAAA,iQAAS,EAAC;QACR,IAAI,CAAC,WAAW;QAEhB,MAAM,WAAW;QACjB,MAAM,QAAQ,KAAK,GAAG;QAEtB,MAAM,UAAU;YACd,MAAM,UAAU,KAAK,GAAG,KAAK;YAC7B,MAAM,cAAc,KAAK,GAAG,CAAC,UAAU,UAAU;YACjD,YAAY,IAAI,KAAK,GAAG,CAAC,IAAI,aAAa;YAE1C,IAAI,cAAc,GAAG,sBAAsB;QAC7C;QAEA,sBAAsB;IACxB,GAAG;QAAC;KAAU;IAEd,kCAAkC;IAClC,MAAM,cAAc;WAAI;KAAS,CAC9B,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,UAAU,GAAG,EAAE,UAAU,EAC1C,KAAK,CAAC,GAAG;IAEZ,MAAM,gBAAgB,KAAK,GAAG,IAAI,YAAY,GAAG,CAAC,CAAA,IAAK,EAAE,UAAU;IAEnE,qBACE,6RAAC;QAAI,IAAG;kDAA0B;;0BAChC,6RAAC;0DAAa;0BAAc;;;;;;0BAC5B,6RAAC;0DAAY;0BAAiB;;;;;;0BAI9B,6RAAC;0DAAc;0BACZ,OAAO,OAAO,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM,iBAC/C,6RAAC;kEAAwB;;0CACvB,6RAAC;gCAEC,OAAO;oCAAE,iBAAiB,cAAc,CAAC,IAAI;gCAAC;0EADpC;;;;;;0CAGZ,6RAAC;;0CAAM;;;;;;;uBALC;;;;;;;;;;0BAUd,6RAAC;0DAAc;0BACZ,YAAY,GAAG,CAAC,CAAC,SAAS,sBACzB,6RAAC;wBAGC,cAAc,IAAM,kBAAkB,QAAQ,IAAI;wBAClD,cAAc,IAAM,kBAAkB;wBACtC,OAAO;4BACL,SAAS,YAAY,IAAI;4BACzB,WAAW,YAAY,kBAAkB;4BACzC,YAAY,CAAC,cAAc,EAAE,QAAQ,GAAG,EAAE,CAAC;wBAC7C;kEAPW,CAAC,QAAQ,EAAE,mBAAmB,QAAQ,IAAI,GAAG,YAAY,IAAI;;0CASxE,6RAAC;0EAAe;0CAAgB,QAAQ,KAAK;;;;;;0CAC7C,6RAAC;0EAAc;0CACb,cAAA,6RAAC;oCAEC,OAAO;wCACL,OAAO,GAAG,AAAC,QAAQ,UAAU,GAAG,gBAAiB,MAAM,SAAS,CAAC,CAAC;wCAClE,iBAAiB,cAAc,CAAC,QAAQ,QAAQ,CAAC;oCACnD;8EAJU;;;;;;;;;;;0CAOd,6RAAC;0EAAe;;oCACb,CAAC,QAAQ,UAAU,GAAG,QAAQ,EAAE,OAAO,CAAC;oCAAG;;;;;;;;uBArBzC,QAAQ,IAAI;;;;;;;;;;YA4BtB,gCACC,6RAAC;0DAAc;0BACZ,CAAC;oBACA,MAAM,IAAI,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;oBACxC,OAAO,kBACL;;0CACE,6RAAC;;0CAAQ,EAAE,KAAK;;;;;;0CAChB,6RAAC;;;;;;;0CACD,6RAAC;0EAAe;0CAAe,EAAE,WAAW;;;;;;0CAC5C,6RAAC;;;;;;;0CACD,6RAAC;0EAAe;;oCAAe;oCAAsB,EAAE,MAAM;;;;;;;;uCAE7D;gBACN,CAAC;;;;;;0BAIL,6RAAC;0DAAc;0BACb,cAAA,6RAAC;;;sCACC,6RAAC;;sCAAO;;;;;;wBAAc;;;;;;;;;;;;;;;;;;;;;;AAkIhC"}},
    {"offset": {"line": 841, "column": 0}, "map": {"version":3,"sources":["file:///Users/amadeuswoo/Documents/GitHub/psychohistory-web/src/components/visualizations/EraStratification.jsx"],"sourcesContent":["// src/components/visualizations/EraStratification.jsx\n'use client'\n\nimport { useState, useEffect } from 'react'\n\nconst eraData = [\n  { \n    era: 'Ancient', \n    period: 'pre-500 BCE', \n    n: 77, \n    coefficient: -159, \n    color: '#4ade80',\n    interpretation: 'Complexity strongly hurts duration'\n  },\n  { \n    era: 'Classical', \n    period: '500 BCE - 500 CE', \n    n: 44, \n    coefficient: -20, \n    color: '#fb923c',\n    interpretation: 'Complexity mildly hurts duration'\n  },\n  { \n    era: 'Medieval', \n    period: '500 - 1500 CE', \n    n: 92, \n    coefficient: -11, \n    color: '#60a5fa',\n    interpretation: 'Complexity effect nearly zero'\n  },\n  { \n    era: 'Early Modern', \n    period: '1500+ CE', \n    n: 43, \n    coefficient: 6, \n    color: '#f472b6',\n    interpretation: 'Complexity slightly helps duration'\n  },\n]\n\nconst MAX_COEFFICIENT = 159\n\nexport default function EraStratification() {\n  const [progress, setProgress] = useState(0)\n  const [isVisible, setIsVisible] = useState(false)\n  const [activeEra, setActiveEra] = useState(null)\n\n  // Intersection observer for scroll trigger\n  useEffect(() => {\n    const element = document.getElementById('era-chart')\n    if (!element) return\n\n    const observer = new IntersectionObserver(\n      ([entry]) => entry.isIntersecting && setIsVisible(true),\n      { threshold: 0.2 }\n    )\n    observer.observe(element)\n    return () => observer.disconnect()\n  }, [])\n\n  // Animation\n  useEffect(() => {\n    if (!isVisible) return\n    \n    const duration = 1200\n    const start = Date.now()\n    \n    const animate = () => {\n      const elapsed = Date.now() - start\n      const t = Math.min(elapsed / duration, 1)\n      setProgress(1 - Math.pow(1 - t, 3)) // ease-out cubic\n      if (t < 1) requestAnimationFrame(animate)\n    }\n    \n    requestAnimationFrame(animate)\n  }, [isVisible])\n\n  const activeData = eraData.find(e => e.era === activeEra)\n\n  return (\n    <div id=\"era-chart\" className=\"era-container\">\n      <h3 className=\"chart-title\">The Era Effect</h3>\n      <p className=\"chart-subtitle\">\n        How complexity affects duration changes dramatically across historical periods\n      </p>\n\n      <div className=\"chart-area\">\n        {eraData.map((era, index) => {\n          const barWidthPercent = (Math.abs(era.coefficient) / MAX_COEFFICIENT) * 100 * progress\n          const isNegative = era.coefficient < 0\n          \n          return (\n            <div \n              key={era.era}\n              className={`row ${activeEra === era.era ? 'active' : ''}`}\n              onMouseEnter={() => setActiveEra(era.era)}\n              onMouseLeave={() => setActiveEra(null)}\n              style={{\n                opacity: isVisible ? 1 : 0,\n                transform: isVisible ? 'translateY(0)' : 'translateY(20px)',\n                transition: `all 0.5s ease ${index * 150}ms`\n              }}\n            >\n              {/* Label */}\n              <div className=\"label\">\n                <span className=\"name\">{era.era}</span>\n                <span className=\"period\">{era.period}</span>\n              </div>\n              \n              {/* Bar area: two halves with center line */}\n              <div className=\"bar-area\">\n                {/* Left half (negative values) */}\n                <div className=\"half left\">\n                  {isNegative && (\n                    <div \n                      className=\"bar\"\n                      style={{\n                        width: `${barWidthPercent}%`,\n                        backgroundColor: era.color,\n                      }}\n                    />\n                  )}\n                </div>\n                \n                {/* Center line */}\n                <div className=\"center-line\" />\n                \n                {/* Right half (positive values) */}\n                <div className=\"half right\">\n                  {!isNegative && (\n                    <div \n                      className=\"bar\"\n                      style={{\n                        width: `${barWidthPercent}%`,\n                        backgroundColor: era.color,\n                      }}\n                    />\n                  )}\n                </div>\n              </div>\n\n              {/* Coefficient value */}\n              <div className=\"value\">\n                <span className=\"beta\">\n                  B = {era.coefficient > 0 ? '+' : ''}{Math.round(era.coefficient * progress)}\n                </span>\n                <span className=\"n\">n={era.n}</span>\n              </div>\n            </div>\n          )\n        })}\n\n        {/* Axis labels */}\n        <div className=\"axis-labels\">\n          <span>Complexity Hurts</span>\n          <span>Complexity Helps</span>\n        </div>\n      </div>\n\n      {/* Interpretation panel */}\n      <div className=\"interpretation\">\n        {activeData ? (\n          <p>\n            <strong style={{ color: activeData.color }}>{activeData.era}:</strong>{' '}\n            {activeData.interpretation}\n          </p>\n        ) : (\n          <p>\n            In the <strong style={{ color: '#4ade80' }}>Ancient</strong> world, \n            each unit of complexity reduced duration by ~159 years. \n            By the <strong style={{ color: '#f472b6' }}>Early Modern</strong> period, \n            the relationship reversed.\n          </p>\n        )}\n      </div>\n\n      <style jsx>{`\n        .era-container {\n          background: var(--bg-secondary);\n          border: 1px solid var(--border);\n          border-radius: 4px;\n          padding: 2rem;\n          margin: 2rem 0;\n        }\n        \n        .chart-title {\n          font-family: var(--font-jetbrains), monospace;\n          font-size: 0.8rem;\n          text-transform: uppercase;\n          letter-spacing: 0.1em;\n          color: var(--text-muted);\n          margin-bottom: 0.25rem;\n        }\n        \n        .chart-subtitle {\n          font-size: 0.9rem;\n          color: var(--text-muted);\n          margin-bottom: 2rem;\n        }\n        \n        .chart-area {\n          display: flex;\n          flex-direction: column;\n          gap: 1rem;\n        }\n        \n        .row {\n          display: grid;\n          grid-template-columns: 120px 1fr 80px;\n          align-items: center;\n          gap: 1rem;\n          padding: 0.5rem;\n          border-radius: 4px;\n          cursor: pointer;\n          transition: background 0.2s;\n        }\n        \n        .row:hover,\n        .row.active {\n          background: rgba(255, 255, 255, 0.03);\n        }\n        \n        .label {\n          text-align: right;\n        }\n        \n        .name {\n          display: block;\n          font-size: 0.9rem;\n          color: var(--text-primary);\n          font-weight: 500;\n        }\n        \n        .period {\n          font-size: 0.7rem;\n          color: var(--text-muted);\n        }\n        \n        /* Bar layout: [left half][line][right half] */\n        .bar-area {\n          display: flex;\n          align-items: center;\n          height: 28px;\n        }\n        \n        .half {\n          flex: 1;\n          height: 20px;\n          display: flex;\n          align-items: center;\n        }\n        \n        .half.left {\n          justify-content: flex-end;\n        }\n        \n        .half.right {\n          justify-content: flex-start;\n        }\n        \n        .center-line {\n          width: 1px;\n          height: 100%;\n          background: var(--text-muted);\n          opacity: 0.5;\n          flex-shrink: 0;\n        }\n        \n        .bar {\n          height: 100%;\n          border-radius: 2px;\n          transition: width 0.1s linear;\n        }\n        \n        .value {\n          display: flex;\n          flex-direction: column;\n        }\n        \n        .beta {\n          font-family: var(--font-jetbrains), monospace;\n          font-size: 0.85rem;\n          color: var(--text-primary);\n        }\n        \n        .n {\n          font-family: var(--font-jetbrains), monospace;\n          font-size: 0.65rem;\n          color: var(--text-muted);\n        }\n        \n        .axis-labels {\n          display: flex;\n          justify-content: space-between;\n          font-size: 0.75rem;\n          color: var(--text-muted);\n          padding: 1rem 0 0;\n          margin-top: 0.5rem;\n          border-top: 1px solid var(--border);\n        }\n        \n        .interpretation {\n          margin-top: 1.5rem;\n          padding: 1rem;\n          background: var(--bg-primary);\n          border-radius: 4px;\n          min-height: 60px;\n        }\n        \n        .interpretation p {\n          font-size: 0.9rem;\n          color: var(--text-muted);\n          line-height: 1.5;\n          margin: 0;\n        }\n        \n        .interpretation strong {\n          color: var(--text-primary);\n        }\n\n        @media (max-width: 600px) {\n          .row {\n            grid-template-columns: 90px 1fr 70px;\n          }\n          .name {\n            font-size: 0.8rem;\n          }\n        }\n      `}</style>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1181, "column": 0}, "map": {"version":3,"sources":["file:///Users/amadeuswoo/Documents/GitHub/psychohistory-web/src/components/visualizations/AnimatedStats.jsx"],"sourcesContent":["// src/components/visualizations/AnimatedStats.jsx\n'use client'\n\nimport { useState, useEffect, useRef } from 'react'\n\nfunction AnimatedNumber({ value, decimals = 0, prefix = '', suffix = '', duration = 2000 }) {\n  const [displayValue, setDisplayValue] = useState(0)\n  const [isVisible, setIsVisible] = useState(false)\n  const ref = useRef(null)\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) setIsVisible(true)\n      },\n      { threshold: 0.5 }\n    )\n\n    if (ref.current) observer.observe(ref.current)\n    return () => observer.disconnect()\n  }, [])\n\n  useEffect(() => {\n    if (!isVisible) return\n\n    const start = Date.now()\n    const startValue = 0\n\n    const animate = () => {\n      const elapsed = Date.now() - start\n      const progress = Math.min(elapsed / duration, 1)\n      // Ease out cubic\n      const eased = 1 - Math.pow(1 - progress, 3)\n      \n      setDisplayValue(startValue + (value - startValue) * eased)\n      \n      if (progress < 1) requestAnimationFrame(animate)\n    }\n\n    requestAnimationFrame(animate)\n  }, [isVisible, value, duration])\n\n  return (\n    <span ref={ref}>\n      {prefix}{displayValue.toFixed(decimals)}{suffix}\n    </span>\n  )\n}\n\nexport function StatsRow() {\n  return (\n    <div className=\"stats-row\">\n      <div className=\"stat\">\n        <span className=\"stat-value\">\n          <AnimatedNumber value={256} duration={1500} />\n        </span>\n        <span className=\"stat-label\">Civilizations</span>\n      </div>\n      \n      <div className=\"stat\">\n        <span className=\"stat-value\">\n          <AnimatedNumber value={0.744} decimals={3} duration={2000} />\n        </span>\n        <span className=\"stat-label\">Model AUC</span>\n      </div>\n      \n      <div className=\"stat\">\n        <span className=\"stat-value\">\n          <AnimatedNumber value={10000} duration={2500} suffix=\"+\" />\n        </span>\n        <span className=\"stat-label\">Years of History</span>\n      </div>\n\n      <style jsx>{`\n        .stats-row {\n          display: flex;\n          justify-content: center;\n          gap: 4rem;\n          padding: 3rem 0;\n          border-top: 1px solid var(--border);\n          border-bottom: 1px solid var(--border);\n          margin: 4rem 0;\n        }\n        .stat {\n          text-align: center;\n        }\n        .stat-value {\n          font-family: var(--font-jetbrains), monospace;\n          font-size: 2.5rem;\n          color: var(--accent);\n          display: block;\n        }\n        .stat-label {\n          font-size: 0.8rem;\n          color: var(--text-muted);\n          text-transform: uppercase;\n          letter-spacing: 0.1em;\n          margin-top: 0.5rem;\n          display: block;\n        }\n        @media (max-width: 600px) {\n          .stats-row {\n            flex-direction: column;\n            gap: 2rem;\n          }\n        }\n      `}</style>\n    </div>\n  )\n}\n\n// Progress indicator showing model improvement journey\nexport function ModelJourney() {\n  const [isVisible, setIsVisible] = useState(false)\n  \n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) setIsVisible(true)\n      },\n      { threshold: 0.2 }\n    )\n\n    const element = document.getElementById('model-journey')\n    if (element) observer.observe(element)\n\n    return () => observer.disconnect()\n  }, [])\n\n  const stages = [\n    { label: 'Baseline', auc: 0.505, description: 'Complexity alone' },\n    { label: '+ Warfare', auc: 0.648, description: 'Added military tech' },\n    { label: '+ Religion', auc: 0.744, description: 'Added ideology scores' },\n  ]\n\n  return (\n    <div id=\"model-journey\" className=\"journey-container\">\n      <h3 className=\"chart-title\">Model Evolution</h3>\n      \n      <div className=\"journey-track\">\n        {stages.map((stage, index) => (\n          <div \n            key={stage.label}\n            className=\"journey-stage\"\n            style={{\n              opacity: isVisible ? 1 : 0,\n              transform: isVisible ? 'translateY(0)' : 'translateY(30px)',\n              transition: `all 0.6s ease ${index * 300}ms`\n            }}\n          >\n            <div className=\"stage-dot\" style={{\n              background: index === stages.length - 1 ? 'var(--accent)' : 'var(--border)'\n            }}>\n              {index < stages.length - 1 && <div className=\"stage-connector\" />}\n            </div>\n            \n            <div className=\"stage-content\">\n              <span className=\"stage-auc\">{stage.auc.toFixed(3)}</span>\n              <span className=\"stage-label\">{stage.label}</span>\n              <span className=\"stage-desc\">{stage.description}</span>\n            </div>\n            \n          </div>\n        ))}\n      </div>\n\n      <style jsx>{`\n        .journey-container {\n          background: var(--bg-secondary);\n          border: 1px solid var(--border);\n          border-radius: 4px;\n          padding: 2rem;\n          margin: 2rem 0;\n        }\n        .chart-title {\n          font-family: var(--font-jetbrains), monospace;\n          font-size: 0.8rem;\n          text-transform: uppercase;\n          letter-spacing: 0.1em;\n          color: var(--text-muted);\n          margin-bottom: 2rem;\n        }\n        .journey-track {\n          display: flex;\n          justify-content: space-between;\n          position: relative;\n        }\n        .journey-stage {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          flex: 1;\n          position: relative;\n        }\n        .stage-dot {\n          width: 16px;\n          height: 16px;\n          border-radius: 50%;\n          position: relative;\n          z-index: 2;\n        }\n        .stage-connector {\n          position: absolute;\n          top: 50%;\n          left: 100%;\n          width: 200%;\n          height: 2px;\n          background: var(--border);\n          transform: translateY(-50%);\n        }\n        .stage-content {\n          text-align: center;\n          margin-top: 1rem;\n        }\n        .stage-auc {\n          display: block;\n          font-family: var(--font-jetbrains), monospace;\n          font-size: 1.5rem;\n          color: var(--text-primary);\n        }\n        .stage-label {\n          display: block;\n          font-size: 0.9rem;\n          color: var(--text-primary);\n          margin-top: 0.25rem;\n        }\n        .stage-desc {\n          display: block;\n          font-size: 0.75rem;\n          color: var(--text-muted);\n          margin-top: 0.25rem;\n        }\n        @media (max-width: 600px) {\n          .journey-track {\n            flex-direction: column;\n            gap: 2rem;\n          }\n          .stage-connector {\n            display: none;\n          }\n          .stage-improvement {\n            position: static;\n            margin-top: 0.5rem;\n          }\n        }\n      `}</style>\n    </div>\n  )\n}\n\nexport default AnimatedNumber\n"],"names":[],"mappings":"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"}}]
}
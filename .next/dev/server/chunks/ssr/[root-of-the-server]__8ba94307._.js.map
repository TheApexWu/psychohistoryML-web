{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/amadeuswoo/Documents/GitHub/psychohistory-web/src/components/ChatInterface.jsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef, useEffect } from 'react'\n\nexport default function ChatInterface() {\n  const [messages, setMessages] = useState([])\n  const [input, setInput] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState(null)\n  const messagesEndRef = useRef(null)\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' })\n  }\n\n  useEffect(() => {\n    scrollToBottom()\n  }, [messages])\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    if (!input.trim() || isLoading) return\n\n    const userMessage = { role: 'user', content: input.trim() }\n    setMessages(prev => [...prev, userMessage])\n    setInput('')\n    setIsLoading(true)\n    setError(null)\n\n    try {\n      const res = await fetch('/api/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          message: userMessage.content,\n          history: messages\n        })\n      })\n\n      const data = await res.json()\n\n      if (!res.ok) {\n        throw new Error(data.error || 'Failed to get response')\n      }\n\n      setMessages(prev => [...prev, { role: 'assistant', content: data.response }])\n    } catch (err) {\n      setError(err.message)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const containerStyle = {\n    background: 'var(--bg-secondary)',\n    border: '1px solid var(--border)',\n    borderRadius: '8px',\n    display: 'flex',\n    flexDirection: 'column',\n    height: '500px',\n    maxWidth: '700px',\n    margin: '0 auto'\n  }\n\n  const messagesContainerStyle = {\n    flex: 1,\n    overflowY: 'auto',\n    padding: '1rem',\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '0.75rem'\n  }\n\n  const messageBaseStyle = {\n    maxWidth: '80%',\n    padding: '0.75rem 1rem',\n    borderRadius: '8px',\n    lineHeight: '1.5',\n    fontSize: '0.95rem'\n  }\n\n  const userMessageStyle = {\n    ...messageBaseStyle,\n    background: 'var(--accent-dim)',\n    color: 'var(--text-primary)',\n    alignSelf: 'flex-end',\n    borderBottomRightRadius: '2px'\n  }\n\n  const assistantMessageStyle = {\n    ...messageBaseStyle,\n    background: 'var(--bg-card)',\n    border: '1px solid var(--border)',\n    color: 'var(--text-primary)',\n    alignSelf: 'flex-start',\n    borderBottomLeftRadius: '2px'\n  }\n\n  const inputContainerStyle = {\n    display: 'flex',\n    gap: '0.5rem',\n    padding: '1rem',\n    borderTop: '1px solid var(--border)'\n  }\n\n  const inputStyle = {\n    flex: 1,\n    background: 'var(--bg-primary)',\n    border: '1px solid var(--border)',\n    borderRadius: '4px',\n    padding: '0.75rem 1rem',\n    color: 'var(--text-primary)',\n    fontSize: '0.95rem',\n    fontFamily: 'inherit',\n    outline: 'none'\n  }\n\n  const buttonStyle = {\n    background: 'var(--accent)',\n    color: 'var(--bg-primary)',\n    border: 'none',\n    borderRadius: '4px',\n    padding: '0.75rem 1.5rem',\n    fontSize: '0.9rem',\n    fontFamily: 'var(--font-jetbrains), monospace',\n    cursor: isLoading ? 'not-allowed' : 'pointer',\n    opacity: isLoading ? 0.7 : 1,\n    transition: 'opacity 0.2s'\n  }\n\n  const loadingStyle = {\n    color: 'var(--text-muted)',\n    fontStyle: 'italic',\n    fontSize: '0.9rem',\n    padding: '0.5rem 1rem'\n  }\n\n  const emptyStateStyle = {\n    color: 'var(--text-muted)',\n    textAlign: 'center',\n    padding: '3rem 1rem',\n    fontSize: '0.95rem'\n  }\n\n  const errorStyle = {\n    color: '#ef4444',\n    fontSize: '0.85rem',\n    padding: '0.5rem 1rem'\n  }\n\n  return (\n    <div style={containerStyle}>\n      <div style={messagesContainerStyle}>\n        {messages.length === 0 && (\n          <div style={emptyStateStyle}>\n            Try asking about the Roman Empire, Han Dynasty, or any historical polity...\n          </div>\n        )}\n        {messages.map((msg, i) => (\n          <div\n            key={i}\n            style={msg.role === 'user' ? userMessageStyle : assistantMessageStyle}\n          >\n            {msg.content}\n          </div>\n        ))}\n        {isLoading && (\n          <div style={loadingStyle}>Thinking...</div>\n        )}\n        {error && (\n          <div style={errorStyle}>Error: {error}</div>\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n\n      <form onSubmit={handleSubmit} style={inputContainerStyle}>\n        <input\n          type=\"text\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          placeholder=\"Ask about civilizational patterns...\"\n          style={inputStyle}\n          disabled={isLoading}\n        />\n        <button type=\"submit\" style={buttonStyle} disabled={isLoading}>\n          {isLoading ? '...' : 'Send'}\n        </button>\n      </form>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 260, "column": 0}, "map": {"version":3,"sources":["file:///Users/amadeuswoo/Documents/GitHub/psychohistory-web/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 279, "column": 0}, "map": {"version":3,"sources":["file:///Users/amadeuswoo/Documents/GitHub/psychohistory-web/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,+JACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 284, "column": 0}, "map": {"version":3,"sources":["file:///Users/amadeuswoo/Documents/GitHub/psychohistory-web/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,+JACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}
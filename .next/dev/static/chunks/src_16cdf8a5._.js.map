{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/amadeuswoo/Documents/GitHub/psychohistory-web/src/components/constants.js"],"sourcesContent":["/**\n * constants.js\n * ============\n * Configuration for the Polity Simulator\n * \n * IMPORTANT: All preset values are pulled directly from Seshat Equinox 2022 data.\n * Do NOT estimate values - they must match actual polities.json entries.\n * \n * Last updated: 2024-12-10\n * Data source: polities.json (372 polities)\n */\n\n// Feature order must match scaler-params.json\nexport const FEATURE_ORDER = [\n  'hierarchy',      // Hier - Administrative levels (1-9)\n  'government',     // Gov - Government sophistication (0-1)\n  'information',    // Info - Information systems (0-1)\n  'infrastructure', // Infra - Infrastructure development (0-1)\n  'weapons',        // Weapon - Weapon types (0-6)\n  'armor',          // Armor - Armor sophistication (0-8)\n  'cavalry',        // Cavalry - Cavalry presence (0-1, binary in data)\n  'fortifications', // Defense - Fortification levels (0-11)\n  'ironWorking',    // Iron - Iron working (0-1, binary)\n  'religion',       // ReligLev - Religious hierarchy (0-10)\n];\n\n// Historical eras with date ranges\nexport const ERAS = ['Ancient', 'Classical', 'Medieval', 'Early Modern'];\n\nexport const ERA_DESCRIPTIONS = {\n  'Ancient': 'Before 500 BCE — Early civilizations, bronze age societies',\n  'Classical': '500 BCE – 500 CE — Rome, Han China, Persian empires',\n  'Medieval': '500 – 1500 CE — Feudal Europe, Islamic Golden Age, Mongol conquests',\n  'Early Modern': 'After 1500 CE — Colonial empires, gunpowder states',\n};\n\n// Parameter definitions with accurate Seshat ranges\n// Ranges verified against actual polities.json min/max values\nexport const PARAMETERS = {\n  // === COMPLEXITY ===\n  hierarchy: {\n    label: 'Hierarchy',\n    min: 1,\n    max: 9,        // Max in data: 8.67 (Spanish Empire)\n    step: 0.5,\n    default: 4,\n    category: 'complexity',\n    description: '1 = village headman, 4 = regional kingdoms, 7+ = multi-tiered empires',\n  },\n  government: {\n    label: 'Government',\n    min: 0,\n    max: 1,\n    step: 0.05,\n    default: 0.5,\n    category: 'complexity',\n    description: '0 = informal rule, 0.5 = emerging bureaucracy, 1 = sophisticated administration',\n  },\n  information: {\n    label: 'Information',\n    min: 0,\n    max: 1,\n    step: 0.05,\n    default: 0.5,\n    category: 'complexity',\n    description: '0 = oral only, 0.5 = limited writing, 1 = extensive records & literature',\n  },\n  infrastructure: {\n    label: 'Infrastructure',\n    min: 0,\n    max: 1,\n    step: 0.05,\n    default: 0.5,\n    category: 'complexity',\n    description: '0 = paths only, 0.5 = regional roads, 1 = empire-wide road networks & aqueducts',\n  },\n  \n  // === WARFARE ===\n  weapons: {\n    label: 'Weapons',\n    min: 0,\n    max: 6,        // Max in data: 6.0\n    step: 0.1,\n    default: 3,\n    category: 'warfare',\n    description: '0 = clubs/stones, 3 = bronze swords, 6 = advanced steel + gunpowder',\n  },\n  armor: {\n    label: 'Armor',\n    min: 0,\n    max: 8,        // Max in data: 8.0\n    step: 0.5,\n    default: 4,\n    category: 'warfare',\n    description: '0 = none, 4 = chain mail, 8 = full plate armor',\n  },\n  cavalry: {\n    label: 'Cavalry',\n    min: 0,\n    max: 1,        // Binary in actual data\n    step: 1,\n    default: 1,\n    category: 'warfare',\n    description: '0 = no cavalry, 1 = cavalry present',\n  },\n  fortifications: {\n    label: 'Fortifications',\n    min: 0,\n    max: 11,       // Max in data: 10.0, but allowing 11 for slider UX\n    step: 0.5,\n    default: 5,\n    category: 'warfare',\n    description: '0 = no fortifications, 5 = walled cities, 10+ = complex defensive networks',\n  },\n  ironWorking: {\n    label: 'Iron Working',\n    min: 0,\n    max: 1,        // Binary in actual data\n    step: 1,\n    default: 1,\n    category: 'warfare',\n    description: '0 = no iron, 1 = iron working present',\n  },\n  \n  // === RELIGION ===\n  religion: {\n    label: 'Religious Hierarchy',\n    min: 0,\n    max: 10,       // Max in data: 10.0 (Spanish Empire)\n    step: 0.5,\n    default: 3,\n    category: 'religion',\n    description: '0 = animist, 2 = local priests, 5 = state religion, 10 = complex hierarchy',\n  },\n};\n\n/**\n * PRESETS\n * =======\n * ALL values pulled directly from polities.json rawFeatures.\n * Names match Seshat polity names exactly.\n * \n * To add a new preset:\n * 1. Find the polity in polities.json\n * 2. Copy its rawFeatures values exactly\n * 3. Use the polity's actual name\n */\nexport const PRESETS = {\n  // Classical era - Empires\n  'Roman Republic': {\n    // From: \"Roman Republic\" (Classical, 244 yrs)\n    hierarchy: 4.67,\n    government: 0.36,\n    information: 0.89,\n    infrastructure: 0.67,\n    weapons: 4.9,\n    armor: 7.5,\n    cavalry: 1,\n    fortifications: 6.0,\n    ironWorking: 1,\n    religion: 4.0,\n  },\n  'Roman Empire': {\n    // From: \"Roman Empire - Principate\" (Classical, 314 yrs)\n    hierarchy: 8.17,\n    government: 0.65,\n    information: 0.92,\n    infrastructure: 0.99,\n    weapons: 2.9,\n    armor: 8.0,\n    cavalry: 1,\n    fortifications: 10.0,\n    ironWorking: 1,\n    religion: 4.0,\n  },\n  'Achaemenid Persia': {\n    // From: \"Achaemenid Empire\" (Classical, 208 yrs)\n    hierarchy: 6.5,\n    government: 0.99,\n    information: 0.95,\n    infrastructure: 0.97,\n    weapons: 4.1,\n    armor: 7.6,\n    cavalry: 1,\n    fortifications: 9.4,\n    ironWorking: 1,\n    religion: 4.0,\n  },\n  'Han Dynasty': {\n    // From: \"Western Han\" (Classical, 211 yrs)\n    hierarchy: 6.83,\n    government: 0.74,\n    information: 0.91,\n    infrastructure: 0.97,\n    weapons: 5.9,\n    armor: 7.8,\n    cavalry: 1,\n    fortifications: 7.6,\n    ironWorking: 1,\n    religion: 3.0,\n  },\n  \n  // Medieval era\n  'Byzantine Empire': {\n    // From: \"Byzantine Empire I\" (Medieval, 234 yrs)\n    hierarchy: 7.33,\n    government: 0.91,\n    information: 0.92,\n    infrastructure: 0.9,\n    weapons: 6.0,\n    armor: 8.0,\n    cavalry: 1,\n    fortifications: 10.0,\n    ironWorking: 1,\n    religion: 7.0,\n  },\n  'Mongol Empire': {\n    // From: \"Mongol Empire\" (Medieval, 94 yrs)\n    hierarchy: 5.0,\n    government: 0.78,\n    information: 0.54,\n    infrastructure: 0.99,\n    weapons: 6.0,\n    armor: 6.0,\n    cavalry: 1,\n    fortifications: 5.0,\n    ironWorking: 1,\n    religion: 3.0,\n  },\n  'Aztec Empire': {\n    // From: \"Aztec Empire\" (Medieval, 92 yrs)\n    hierarchy: 5.83,\n    government: 0.77,\n    information: 0.54,\n    infrastructure: 1.0,\n    weapons: 5.0,\n    armor: 3.0,\n    cavalry: 0,          // No horses in Americas\n    fortifications: 4.3,\n    ironWorking: 0,      // No iron working\n    religion: 2.5,\n  },\n  \n  // Early Modern era\n  'Spanish Empire': {\n    // From: \"Spanish Empire\" (Early Modern, 168 yrs)\n    // Note: Most religiously institutionalized polity in dataset (religion=10)\n    // Actual Seshat values - DO NOT MODIFY\n    hierarchy: 8.67,     // NOT 9 - actual value is 8.67\n    government: 0.92,\n    information: 0.92,\n    infrastructure: 0.99,\n    weapons: 5.8,\n    armor: 8.0,\n    cavalry: 1,\n    fortifications: 9.1,\n    ironWorking: 1,\n    religion: 10.0,      // Maximum in dataset - this is correct\n  },\n  'Ottoman Empire': {\n    // From: \"Ottoman Empire II\" (Early Modern, 165 yrs)\n    hierarchy: 8.17,\n    government: 1.0,\n    information: 1.0,\n    infrastructure: 0.92,\n    weapons: 5.9,\n    armor: 8.0,\n    cavalry: 1,\n    fortifications: 8.0,\n    ironWorking: 1,\n    religion: 4.0,\n  },\n  \n  // Ancient era\n  'Late Shang': {\n    // From: \"Late Shang\" (Ancient, 204 yrs)\n    hierarchy: 4.0,\n    government: 0.54,\n    information: 0.36,\n    infrastructure: 0.83,\n    weapons: 5.9,\n    armor: 4.0,\n    cavalry: 0,\n    fortifications: 6.5,\n    ironWorking: 0,\n    religion: 3.0,\n  },\n};\n\n// Default config - median-ish values for exploration\nexport const DEFAULT_CONFIG = {\n  hierarchy: 5,\n  government: 0.5,\n  information: 0.5,\n  infrastructure: 0.5,\n  weapons: 4,\n  armor: 5,\n  cavalry: 1,\n  fortifications: 5,\n  ironWorking: 1,\n  religion: 4,\n};\n\n// Category colors for UI grouping\nexport const CATEGORY_COLORS = {\n  complexity: '#60a5fa',  // blue\n  warfare: '#f87171',     // red\n  religion: '#fbbf24',    // amber\n};\n\n/**\n * DATA RANGES (from actual polities.json)\n * For reference when validating user inputs\n * \n * hierarchy:      1.0 - 8.67\n * government:     0.0 - 1.0\n * information:    0.0 - 1.0\n * infrastructure: 0.0 - 1.0\n * weapons:        0.0 - 6.0\n * armor:          0.0 - 8.0\n * cavalry:        0.0 - 1.0\n * fortifications: 0.0 - 10.0\n * ironWorking:    0.0 - 1.0\n * religion:       0.0 - 10.0\n */"],"names":[],"mappings":"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"}},
    {"offset": {"line": 326, "column": 0}, "map": {"version":3,"sources":["file:///Users/amadeuswoo/Documents/GitHub/psychohistory-web/src/components/similarity.js"],"sourcesContent":["// src/components/similarity.js\n// Client-side similarity calculations for the Polity Simulator\n\nimport { FEATURE_ORDER } from './constants';\n\n/**\n * Compute cosine similarity between two vectors\n * @param {number[]} a - First vector\n * @param {number[]} b - Second vector\n * @returns {number} Cosine similarity (-1 to 1)\n */\nexport function cosineSimilarity(a, b) {\n  if (a.length !== b.length) {\n    throw new Error('Vectors must have same length');\n  }\n  \n  let dotProduct = 0;\n  let normA = 0;\n  let normB = 0;\n  \n  for (let i = 0; i < a.length; i++) {\n    dotProduct += a[i] * b[i];\n    normA += a[i] * a[i];\n    normB += b[i] * b[i];\n  }\n  \n  const denominator = Math.sqrt(normA) * Math.sqrt(normB);\n  if (denominator === 0) return 0;\n  \n  return dotProduct / denominator;\n}\n\n/**\n * Standardize user input values using pre-computed scaler parameters\n * @param {number[]} values - Raw feature values in FEATURE_ORDER\n * @param {number[]} mean - Mean values from scaler\n * @param {number[]} std - Standard deviation values from scaler\n * @returns {number[]} Standardized values\n */\nexport function standardize(values, mean, std) {\n  return values.map((v, i) => (v - mean[i]) / std[i]);\n}\n\n/**\n * Convert user config object to feature array in correct order\n * @param {Object} config - User configuration with parameter names as keys\n * @returns {number[]} Feature values in FEATURE_ORDER\n */\nexport function configToFeatures(config) {\n  return FEATURE_ORDER.map(key => config[key] ?? 0);\n}\n\n/**\n * Find k most similar polities to user configuration\n * @param {Object} config - User configuration\n * @param {Object[]} polities - Array of polity objects with 'features' array\n * @param {Object} scalerParams - Scaler parameters with 'mean' and 'std' arrays\n * @param {Object} options - Search options\n * @returns {Object} Results with similar polities and duration estimate\n */\nexport function findSimilarPolities(config, polities, scalerParams, options = {}) {\n  const {\n    k = 5,\n    era = null,\n    maxDuration = 1000,\n    minSimilarity = 0\n  } = options;\n  \n  // Convert user config to feature array and standardize\n  const userFeatures = configToFeatures(config);\n  const userScaled = standardize(userFeatures, scalerParams.mean, scalerParams.std);\n  \n  // Filter candidates\n  let candidates = polities.filter(p => p.duration <= maxDuration);\n  if (era) {\n    candidates = candidates.filter(p => p.era === era);\n  }\n  \n  if (candidates.length === 0) {\n    return {\n      similar: [],\n      durationEstimate: null,\n      durationRange: [null, null],\n      confidence: 0,\n      candidateCount: 0,\n      message: era ? `No polities found in ${era} era` : 'No polities found'\n    };\n  }\n  \n  // Compute similarities\n  const withSimilarity = candidates.map(p => ({\n    ...p,\n    similarity: cosineSimilarity(userScaled, p.features)\n  }));\n  \n  // Filter by minimum similarity if specified\n  let filtered = withSimilarity;\n  if (minSimilarity > 0) {\n    filtered = withSimilarity.filter(p => p.similarity >= minSimilarity);\n  }\n  \n  // Sort by similarity (descending) and take top k\n  filtered.sort((a, b) => b.similarity - a.similarity);\n  const topK = filtered.slice(0, k);\n  \n  if (topK.length === 0) {\n    return {\n      similar: [],\n      durationEstimate: null,\n      durationRange: [null, null],\n      confidence: 0,\n      candidateCount: candidates.length,\n      message: 'No sufficiently similar polities found'\n    };\n  }\n  \n  // Compute weighted duration estimate\n  const weights = topK.map(p => Math.max(p.similarity, 0));\n  const totalWeight = weights.reduce((sum, w) => sum + w, 0);\n  \n  let durationEstimate;\n  if (totalWeight > 0) {\n    durationEstimate = topK.reduce((sum, p, i) => sum + weights[i] * p.duration, 0) / totalWeight;\n  } else {\n    durationEstimate = topK.reduce((sum, p) => sum + p.duration, 0) / topK.length;\n  }\n  \n  // Compute confidence score\n  const meanSimilarity = weights.reduce((sum, w) => sum + w, 0) / topK.length;\n  const meanDuration = topK.reduce((sum, p) => sum + p.duration, 0) / topK.length;\n  const durationVariance = topK.reduce((sum, p) => sum + Math.pow(p.duration - meanDuration, 2), 0) / topK.length;\n  const durationStd = Math.sqrt(durationVariance);\n  const cv = durationStd / (meanDuration + 1); // Coefficient of variation\n  const confidence = meanSimilarity / (1 + cv);\n  \n  // Format results\n  const similar = topK.map(p => ({\n    name: p.name,\n    era: p.era,\n    duration: p.duration,\n    start: p.start,\n    end: p.end,\n    region: p.region,\n    similarity: Math.round(p.similarity * 1000) / 10 // Percentage with 1 decimal\n  }));\n  \n  const durations = topK.map(p => p.duration);\n  \n  return {\n    similar,\n    durationEstimate: Math.round(durationEstimate),\n    durationRange: [Math.min(...durations), Math.max(...durations)],\n    confidence: Math.round(confidence * 100) / 100,\n    candidateCount: candidates.length,\n    message: null\n  };\n}\n\n/**\n * Compare duration estimates across all eras\n * @param {Object} config - User configuration\n * @param {Object[]} polities - Array of polity objects\n * @param {Object} scalerParams - Scaler parameters\n * @param {Object} options - Search options (k, maxDuration)\n * @returns {Object[]} Array of era comparison results\n */\nexport function compareEras(config, polities, scalerParams, options = {}) {\n  const eras = ['Ancient', 'Classical', 'Medieval', 'Early Modern'];\n  \n  return eras.map(era => {\n    const result = findSimilarPolities(config, polities, scalerParams, {\n      ...options,\n      era\n    });\n    \n    return {\n      era,\n      durationEstimate: result.durationEstimate,\n      durationRange: result.durationRange,\n      confidence: result.confidence,\n      candidateCount: result.candidateCount,\n      topMatch: result.similar[0] || null\n    };\n  });\n}\n\n/**\n * Get risk assessment based on duration estimate\n * @param {number} durationEstimate - Estimated duration in years\n * @returns {Object} Risk assessment with level and description\n */\nexport function getRiskAssessment(durationEstimate) {\n  if (durationEstimate === null) {\n    return {\n      level: 'unknown',\n      color: '#6b7280',\n      description: 'Insufficient data for assessment'\n    };\n  }\n  \n  if (durationEstimate >= 300) {\n    return {\n      level: 'lower',\n      color: '#22c55e',\n      description: 'Above average longevity expected'\n    };\n  } else if (durationEstimate >= 184) {\n    return {\n      level: 'moderate',\n      color: '#eab308',\n      description: 'Average longevity expected (above median)'\n    };\n  } else if (durationEstimate >= 100) {\n    return {\n      level: 'elevated',\n      color: '#f97316',\n      description: 'Below median longevity expected'\n    };\n  } else {\n    return {\n      level: 'higher',\n      color: '#ef4444',\n      description: 'Significantly below average longevity'\n    };\n  }\n}\n\n/**\n * Format duration for display\n * @param {number} years - Duration in years\n * @returns {string} Formatted string\n */\nexport function formatDuration(years) {\n  if (years === null || years === undefined) return '—';\n  if (years < 100) return `${years} years`;\n  if (years < 200) return `~${Math.round(years / 10) * 10} years`;\n  return `~${Math.round(years / 50) * 50} years`;\n}\n\n/**\n * Format year for display (handles BCE/CE)\n * @param {number} year - Year (negative for BCE)\n * @returns {string} Formatted string\n */\nexport function formatYear(year) {\n  if (year < 0) {\n    return `${Math.abs(year)} BCE`;\n  } else if (year < 100) {\n    return `${year} CE`;\n  } else {\n    return `${year}`;\n  }\n}"],"names":[],"mappings":"AAAA,+BAA+B;AAC/B,+DAA+D;;;;;;;;;;;;;;;;;;;AAE/D;;AAQO,SAAS,iBAAiB,CAAC,EAAE,CAAC;IACnC,IAAI,EAAE,MAAM,KAAK,EAAE,MAAM,EAAE;QACzB,MAAM,IAAI,MAAM;IAClB;IAEA,IAAI,aAAa;IACjB,IAAI,QAAQ;IACZ,IAAI,QAAQ;IAEZ,IAAK,IAAI,IAAI,GAAG,IAAI,EAAE,MAAM,EAAE,IAAK;QACjC,cAAc,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;QACzB,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;QACpB,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;IACtB;IAEA,MAAM,cAAc,KAAK,IAAI,CAAC,SAAS,KAAK,IAAI,CAAC;IACjD,IAAI,gBAAgB,GAAG,OAAO;IAE9B,OAAO,aAAa;AACtB;AASO,SAAS,YAAY,MAAM,EAAE,IAAI,EAAE,GAAG;IAC3C,OAAO,OAAO,GAAG,CAAC,CAAC,GAAG,IAAM,CAAC,IAAI,IAAI,CAAC,EAAE,IAAI,GAAG,CAAC,EAAE;AACpD;AAOO,SAAS,iBAAiB,MAAM;IACrC,OAAO,kJAAa,CAAC,GAAG,CAAC,CAAA,MAAO,MAAM,CAAC,IAAI,IAAI;AACjD;AAUO,SAAS,oBAAoB,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,UAAU,CAAC,CAAC;IAC9E,MAAM,EACJ,IAAI,CAAC,EACL,MAAM,IAAI,EACV,cAAc,IAAI,EAClB,gBAAgB,CAAC,EAClB,GAAG;IAEJ,uDAAuD;IACvD,MAAM,eAAe,iBAAiB;IACtC,MAAM,aAAa,YAAY,cAAc,aAAa,IAAI,EAAE,aAAa,GAAG;IAEhF,oBAAoB;IACpB,IAAI,aAAa,SAAS,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,IAAI;IACpD,IAAI,KAAK;QACP,aAAa,WAAW,MAAM,CAAC,CAAA,IAAK,EAAE,GAAG,KAAK;IAChD;IAEA,IAAI,WAAW,MAAM,KAAK,GAAG;QAC3B,OAAO;YACL,SAAS,EAAE;YACX,kBAAkB;YAClB,eAAe;gBAAC;gBAAM;aAAK;YAC3B,YAAY;YACZ,gBAAgB;YAChB,SAAS,MAAM,CAAC,qBAAqB,EAAE,IAAI,IAAI,CAAC,GAAG;QACrD;IACF;IAEA,uBAAuB;IACvB,MAAM,iBAAiB,WAAW,GAAG,CAAC,CAAA,IAAK,CAAC;YAC1C,GAAG,CAAC;YACJ,YAAY,iBAAiB,YAAY,EAAE,QAAQ;QACrD,CAAC;IAED,4CAA4C;IAC5C,IAAI,WAAW;IACf,IAAI,gBAAgB,GAAG;QACrB,WAAW,eAAe,MAAM,CAAC,CAAA,IAAK,EAAE,UAAU,IAAI;IACxD;IAEA,iDAAiD;IACjD,SAAS,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,UAAU,GAAG,EAAE,UAAU;IACnD,MAAM,OAAO,SAAS,KAAK,CAAC,GAAG;IAE/B,IAAI,KAAK,MAAM,KAAK,GAAG;QACrB,OAAO;YACL,SAAS,EAAE;YACX,kBAAkB;YAClB,eAAe;gBAAC;gBAAM;aAAK;YAC3B,YAAY;YACZ,gBAAgB,WAAW,MAAM;YACjC,SAAS;QACX;IACF;IAEA,qCAAqC;IACrC,MAAM,UAAU,KAAK,GAAG,CAAC,CAAA,IAAK,KAAK,GAAG,CAAC,EAAE,UAAU,EAAE;IACrD,MAAM,cAAc,QAAQ,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,GAAG;IAExD,IAAI;IACJ,IAAI,cAAc,GAAG;QACnB,mBAAmB,KAAK,MAAM,CAAC,CAAC,KAAK,GAAG,IAAM,MAAM,OAAO,CAAC,EAAE,GAAG,EAAE,QAAQ,EAAE,KAAK;IACpF,OAAO;QACL,mBAAmB,KAAK,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,QAAQ,EAAE,KAAK,KAAK,MAAM;IAC/E;IAEA,2BAA2B;IAC3B,MAAM,iBAAiB,QAAQ,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,GAAG,KAAK,KAAK,MAAM;IAC3E,MAAM,eAAe,KAAK,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,QAAQ,EAAE,KAAK,KAAK,MAAM;IAC/E,MAAM,mBAAmB,KAAK,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,KAAK,GAAG,CAAC,EAAE,QAAQ,GAAG,cAAc,IAAI,KAAK,KAAK,MAAM;IAC/G,MAAM,cAAc,KAAK,IAAI,CAAC;IAC9B,MAAM,KAAK,cAAc,CAAC,eAAe,CAAC,GAAG,2BAA2B;IACxE,MAAM,aAAa,iBAAiB,CAAC,IAAI,EAAE;IAE3C,iBAAiB;IACjB,MAAM,UAAU,KAAK,GAAG,CAAC,CAAA,IAAK,CAAC;YAC7B,MAAM,EAAE,IAAI;YACZ,KAAK,EAAE,GAAG;YACV,UAAU,EAAE,QAAQ;YACpB,OAAO,EAAE,KAAK;YACd,KAAK,EAAE,GAAG;YACV,QAAQ,EAAE,MAAM;YAChB,YAAY,KAAK,KAAK,CAAC,EAAE,UAAU,GAAG,QAAQ,GAAG,4BAA4B;QAC/E,CAAC;IAED,MAAM,YAAY,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,QAAQ;IAE1C,OAAO;QACL;QACA,kBAAkB,KAAK,KAAK,CAAC;QAC7B,eAAe;YAAC,KAAK,GAAG,IAAI;YAAY,KAAK,GAAG,IAAI;SAAW;QAC/D,YAAY,KAAK,KAAK,CAAC,aAAa,OAAO;QAC3C,gBAAgB,WAAW,MAAM;QACjC,SAAS;IACX;AACF;AAUO,SAAS,YAAY,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,UAAU,CAAC,CAAC;IACtE,MAAM,OAAO;QAAC;QAAW;QAAa;QAAY;KAAe;IAEjE,OAAO,KAAK,GAAG,CAAC,CAAA;QACd,MAAM,SAAS,oBAAoB,QAAQ,UAAU,cAAc;YACjE,GAAG,OAAO;YACV;QACF;QAEA,OAAO;YACL;YACA,kBAAkB,OAAO,gBAAgB;YACzC,eAAe,OAAO,aAAa;YACnC,YAAY,OAAO,UAAU;YAC7B,gBAAgB,OAAO,cAAc;YACrC,UAAU,OAAO,OAAO,CAAC,EAAE,IAAI;QACjC;IACF;AACF;AAOO,SAAS,kBAAkB,gBAAgB;IAChD,IAAI,qBAAqB,MAAM;QAC7B,OAAO;YACL,OAAO;YACP,OAAO;YACP,aAAa;QACf;IACF;IAEA,IAAI,oBAAoB,KAAK;QAC3B,OAAO;YACL,OAAO;YACP,OAAO;YACP,aAAa;QACf;IACF,OAAO,IAAI,oBAAoB,KAAK;QAClC,OAAO;YACL,OAAO;YACP,OAAO;YACP,aAAa;QACf;IACF,OAAO,IAAI,oBAAoB,KAAK;QAClC,OAAO;YACL,OAAO;YACP,OAAO;YACP,aAAa;QACf;IACF,OAAO;QACL,OAAO;YACL,OAAO;YACP,OAAO;YACP,aAAa;QACf;IACF;AACF;AAOO,SAAS,eAAe,KAAK;IAClC,IAAI,UAAU,QAAQ,UAAU,WAAW,OAAO;IAClD,IAAI,QAAQ,KAAK,OAAO,GAAG,MAAM,MAAM,CAAC;IACxC,IAAI,QAAQ,KAAK,OAAO,CAAC,CAAC,EAAE,KAAK,KAAK,CAAC,QAAQ,MAAM,GAAG,MAAM,CAAC;IAC/D,OAAO,CAAC,CAAC,EAAE,KAAK,KAAK,CAAC,QAAQ,MAAM,GAAG,MAAM,CAAC;AAChD;AAOO,SAAS,WAAW,IAAI;IAC7B,IAAI,OAAO,GAAG;QACZ,OAAO,GAAG,KAAK,GAAG,CAAC,MAAM,IAAI,CAAC;IAChC,OAAO,IAAI,OAAO,KAAK;QACrB,OAAO,GAAG,KAAK,GAAG,CAAC;IACrB,OAAO;QACL,OAAO,GAAG,MAAM;IAClB;AACF"}},
    {"offset": {"line": 536, "column": 0}, "map": {"version":3,"sources":["file:///Users/amadeuswoo/Documents/GitHub/psychohistory-web/src/app/predict/page.js"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useMemo } from 'react';\nimport { \n  PARAMETERS, \n  FEATURE_ORDER, \n  ERAS, \n  ERA_DESCRIPTIONS,\n  PRESETS, \n  DEFAULT_CONFIG,\n  CATEGORY_COLORS \n} from '../../components/constants';\nimport { \n  findSimilarPolities, \n  compareEras, \n  getRiskAssessment,\n  formatDuration,\n  formatYear \n} from '../../components/similarity';\n\n// Era color mapping for badges\nconst ERA_COLORS = {\n  'Ancient': { bg: 'bg-amber-500/20', text: 'text-amber-400', border: 'border-amber-500/30' },\n  'Classical': { bg: 'bg-blue-500/20', text: 'text-blue-400', border: 'border-blue-500/30' },\n  'Medieval': { bg: 'bg-purple-500/20', text: 'text-purple-400', border: 'border-purple-500/30' },\n  'Early Modern': { bg: 'bg-green-500/20', text: 'text-green-400', border: 'border-green-500/30' },\n};\n\n/**\n * OUTLIER DETECTION\n * -----------------\n * How it works:\n * 1. For each feature, compute the distribution (mean, std) across the polity pool\n * 2. Flag if user's value is OUTSIDE the historical range (below min or above max)\n * 3. Also flag if >2.5 std deviations from mean (very unusual but still in range)\n * \n * Key insight: Values AT the min/max are valid historical configurations.\n * Only flag values that NO historical polity ever had.\n */\nfunction detectOutliers(config, matchedPolities, allPolities, selectedEra) {\n  const outliers = [];\n  \n  // Get the relevant polity pool (era-filtered or all)\n  const pool = selectedEra \n    ? allPolities.filter(p => p.era === selectedEra)\n    : allPolities;\n  \n  if (pool.length < 10) return outliers; // Not enough data to detect outliers\n  \n  const featureKeys = [\n    'hierarchy', 'government', 'information', 'infrastructure',\n    'weapons', 'armor', 'cavalry', 'fortifications', 'ironWorking', 'religion'\n  ];\n  \n  featureKeys.forEach(key => {\n    // Get distribution of this feature across the pool\n    const values = pool\n      .filter(p => p.rawFeatures && p.rawFeatures[key] !== undefined)\n      .map(p => p.rawFeatures[key]);\n    \n    if (values.length < 10) return;\n    \n    const mean = values.reduce((a, b) => a + b, 0) / values.length;\n    const std = Math.sqrt(values.reduce((sum, v) => sum + Math.pow(v - mean, 2), 0) / values.length);\n    const min = Math.min(...values);\n    const max = Math.max(...values);\n    \n    const userVal = config[key];\n    const zScore = std > 0 ? Math.abs(userVal - mean) / std : 0;\n    \n    // FIXED: Only flag if OUTSIDE the range, not at boundaries\n    // Values at min/max are valid - some historical polity had that value\n    const isOutsideRange = userVal < min - 0.01 || userVal > max + 0.01; // Small tolerance for floating point\n    \n    // Also flag extreme z-scores even if in range (very unusual combinations)\n    const isExtremeZScore = zScore > 2.5 && !isOutsideRange;\n    \n    if (isOutsideRange) {\n      const eraLabel = selectedEra || 'all';\n      outliers.push({\n        feature: key,\n        label: PARAMETERS[key]?.label || key,\n        userVal,\n        mean: mean.toFixed(2),\n        severity: 'high',\n        message: userVal > max \n          ? `Your ${PARAMETERS[key]?.label || key} (${userVal}) exceeds any ${eraLabel} polity (max: ${max.toFixed(1)})`\n          : `Your ${PARAMETERS[key]?.label || key} (${userVal}) is below any ${eraLabel} polity (min: ${min.toFixed(1)})`\n      });\n    } else if (isExtremeZScore) {\n      // In range but statistically unusual\n      const percentile = Math.round((values.filter(v => v < userVal).length / values.length) * 100);\n      const direction = userVal > mean ? 'higher' : 'lower';\n      outliers.push({\n        feature: key,\n        label: PARAMETERS[key]?.label || key,\n        userVal,\n        mean: mean.toFixed(2),\n        severity: 'moderate',\n        message: `Your ${PARAMETERS[key]?.label || key} (${userVal}) is ${direction} than ${Math.max(percentile, 100-percentile)}% of polities (unusual but valid)`\n      });\n    }\n  });\n  \n  return outliers;\n}\n\nexport default function PredictPage() {\n  const [config, setConfig] = useState(DEFAULT_CONFIG);\n  const [selectedEra, setSelectedEra] = useState(null);\n  const [polities, setPolities] = useState([]);\n  const [scalerParams, setScalerParams] = useState(null);\n  const [results, setResults] = useState(null);\n  const [eraComparison, setEraComparison] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [activePreset, setActivePreset] = useState(null);\n  const [showCalculation, setShowCalculation] = useState(true);\n  const [expandedPolity, setExpandedPolity] = useState(null);\n  const [showOutlierDetails, setShowOutlierDetails] = useState(false);\n\n  // Load data on mount\n  useEffect(() => {\n    async function loadData() {\n      try {\n        const [politiesRes, scalerRes] = await Promise.all([\n          fetch('/data/polities.json'),\n          fetch('/data/scaler-params.json')\n        ]);\n        \n        const politiesData = await politiesRes.json();\n        const scalerData = await scalerRes.json();\n        \n        setPolities(politiesData);\n        setScalerParams(scalerData);\n        setIsLoading(false);\n      } catch (error) {\n        console.error('Failed to load data:', error);\n        setIsLoading(false);\n      }\n    }\n    loadData();\n  }, []);\n\n  // Compute results when config or era changes\n  useEffect(() => {\n    if (!polities.length || !scalerParams) return;\n\n    const similarityResults = findSimilarPolities(\n      config, \n      polities, \n      scalerParams, \n      { k: 5, era: selectedEra, maxDuration: 1000 }\n    );\n    \n    const eraResults = compareEras(config, polities, scalerParams, { k: 5, maxDuration: 1000 });\n    \n    setResults(similarityResults);\n    setEraComparison(eraResults);\n    setExpandedPolity(null);\n  }, [config, selectedEra, polities, scalerParams]);\n\n  // Detect outliers (memoized for performance)\n  const outliers = useMemo(() => {\n    if (!polities.length || !results?.similar) return [];\n    return detectOutliers(config, results.similar, polities, selectedEra);\n  }, [config, polities, results, selectedEra]);\n\n  const handleParamChange = (key, value) => {\n    const param = PARAMETERS[key];\n    const numValue = parseFloat(value);\n    const clampedValue = Math.min(Math.max(numValue, param.min), param.max);\n    setConfig(prev => ({ ...prev, [key]: clampedValue }));\n    setActivePreset(null);\n  };\n\n  const handlePresetSelect = (presetName) => {\n    setConfig(PRESETS[presetName]);\n    setActivePreset(presetName);\n  };\n\n  const risk = results ? getRiskAssessment(results.durationEstimate) : null;\n\n\n  const getRangePosition = (value, min, max) => {\n    if (min === max) return 50; // Center if no range\n    const normalized = (value - min) / (max - min); // 0 to 1\n    return 10 + (normalized * 80); // Map to 10%-90% of bar width\n  };\n\n  // Check if matches span multiple eras\n  const getEraSpan = () => {\n    if (!results?.similar?.length) return null;\n    const eras = [...new Set(results.similar.map(p => p.era))];\n    return eras.length > 1 ? eras : null;\n  };\n\n  const eraSpan = getEraSpan();\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-[#0a0a0a] flex items-center justify-center\">\n        <div className=\"text-gray-400 text-lg\">Loading historical data...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[#0a0a0a] text-gray-100\">\n      {/* Header */}\n      <header className=\"border-b border-gray-800 bg-[#0a0a0a]/95 backdrop-blur sticky top-0 z-10\">\n        <div className=\"max-w-7xl mx-auto px-8 py-5\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <a href=\"/\" className=\"text-2xl font-semibold tracking-tight text-white hover:text-gray-300 transition\">\n                PsychohistoryML\n              </a>\n              <span className=\"ml-3 text-base text-gray-500\">/ Simulator</span>\n            </div>\n            <nav className=\"flex gap-8 text-base\">\n              <a href=\"/research\" className=\"text-gray-400 hover:text-white transition\">Research</a>\n              <a href=\"/predict/methodology\" className=\"text-gray-400 hover:text-white transition\">Methodology</a>\n            </nav>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"max-w-7xl mx-auto px-8 py-10\">\n        {/* Title */}\n        <div className=\"mb-10\">\n          <h1 className=\"text-4xl font-bold mb-3\">Polity Simulator</h1>\n          <p className=\"text-lg text-gray-400\">\n            Configure a hypothetical society and find historically similar polities from 372 in the Seshat database.\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-5 gap-10\">\n          {/* Left Column: Controls (3/5 width) */}\n          <div className=\"lg:col-span-3 space-y-8\">\n            \n            {/* Presets */}\n            <div className=\"bg-[#111] rounded-xl p-5 border border-gray-800/50\">\n              <h3 className=\"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-4\">Quick Presets</h3>\n              <div className=\"flex flex-wrap gap-3\">\n                {Object.keys(PRESETS).map(preset => (\n                  <button\n                    key={preset}\n                    onClick={() => handlePresetSelect(preset)}\n                    className={`px-4 py-2 rounded-lg text-sm font-medium transition ${\n                      activePreset === preset\n                        ? 'bg-blue-600 text-white'\n                        : 'bg-gray-800/50 text-gray-300 hover:bg-gray-700/50'\n                    }`}\n                  >\n                    {preset}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Parameter Sliders */}\n            <div className=\"bg-[#111] rounded-xl p-6 border border-gray-800/50\">\n              <h3 className=\"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-6\">Configure Your Polity</h3>\n              \n              {/* Complexity */}\n              <div className=\"mb-8\">\n                <h4 className=\"text-xs uppercase tracking-widest text-blue-400 mb-4 flex items-center gap-2 font-semibold\">\n                  <span className=\"w-2.5 h-2.5 rounded-full bg-blue-400\"></span>\n                  Complexity\n                </h4>\n                <div className=\"space-y-5\">\n                  {Object.entries(PARAMETERS)\n                    .filter(([_, p]) => p.category === 'complexity')\n                    .map(([key, param]) => (\n                      <ParameterControl\n                        key={key}\n                        paramKey={key}\n                        param={param}\n                        value={config[key]}\n                        onChange={handleParamChange}\n                        isOutlier={outliers.some(o => o.feature === key)}\n                      />\n                    ))}\n                </div>\n              </div>\n\n              {/* Warfare */}\n              <div className=\"mb-8\">\n                <h4 className=\"text-xs uppercase tracking-widest text-red-400 mb-4 flex items-center gap-2 font-semibold\">\n                  <span className=\"w-2.5 h-2.5 rounded-full bg-red-400\"></span>\n                  Warfare\n                </h4>\n                <div className=\"space-y-5\">\n                  {Object.entries(PARAMETERS)\n                    .filter(([_, p]) => p.category === 'warfare')\n                    .map(([key, param]) => (\n                      <ParameterControl\n                        key={key}\n                        paramKey={key}\n                        param={param}\n                        value={config[key]}\n                        onChange={handleParamChange}\n                        isOutlier={outliers.some(o => o.feature === key)}\n                      />\n                    ))}\n                </div>\n              </div>\n\n              {/* Religion */}\n              <div>\n                <h4 className=\"text-xs uppercase tracking-widest text-amber-400 mb-4 flex items-center gap-2 font-semibold\">\n                  <span className=\"w-2.5 h-2.5 rounded-full bg-amber-400\"></span>\n                  Religion\n                </h4>\n                <div className=\"space-y-5\">\n                  {Object.entries(PARAMETERS)\n                    .filter(([_, p]) => p.category === 'religion')\n                    .map(([key, param]) => (\n                      <ParameterControl\n                        key={key}\n                        paramKey={key}\n                        param={param}\n                        value={config[key]}\n                        onChange={handleParamChange}\n                        isOutlier={outliers.some(o => o.feature === key)}\n                      />\n                    ))}\n                </div>\n              </div>\n            </div>\n\n            {/* Era Filter */}\n            <div className=\"bg-[#111] rounded-xl p-5 border border-gray-800/50\">\n              <h3 className=\"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-4\">Filter by Era</h3>\n              <div className=\"flex flex-wrap gap-3\">\n                <button\n                  onClick={() => setSelectedEra(null)}\n                  className={`px-4 py-2 rounded-lg text-sm font-medium transition ${\n                    selectedEra === null\n                      ? 'bg-gray-600 text-white'\n                      : 'bg-gray-800/50 text-gray-400 hover:bg-gray-700/50'\n                  }`}\n                >\n                  All Eras\n                </button>\n                {ERAS.map(era => (\n                  <button\n                    key={era}\n                    onClick={() => setSelectedEra(era)}\n                    className={`px-4 py-2 rounded-lg text-sm font-medium transition ${\n                      selectedEra === era\n                        ? `${ERA_COLORS[era].bg} ${ERA_COLORS[era].text} border ${ERA_COLORS[era].border}`\n                        : 'bg-gray-800/50 text-gray-400 hover:bg-gray-700/50'\n                    }`}\n                  >\n                    {era}\n                  </button>\n                ))}\n              </div>\n              {selectedEra && (\n                <p className=\"mt-3 text-sm text-gray-500\">{ERA_DESCRIPTIONS[selectedEra]}</p>\n              )}\n              {!selectedEra && (\n                <p className=\"mt-3 text-xs text-gray-600\">\n                  Matches polities by feature similarity across all time periods. Use era filters for period-specific comparisons.\n                </p>\n              )}\n            </div>\n          </div>\n\n          {/* Right Column: Results (2/5 width) */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            \n            {/* Outlier Warning */}\n            {outliers.length > 0 && (\n              <div className=\"bg-amber-500/10 border border-amber-500/30 rounded-xl p-4\">\n                <button \n                  onClick={() => setShowOutlierDetails(!showOutlierDetails)}\n                  className=\"w-full flex items-start justify-between\"\n                >\n                  <div className=\"flex items-start gap-3\">\n                    <span className=\"text-amber-400 text-lg\">⚠️</span>\n                    <div className=\"text-left\">\n                      <p className=\"text-sm font-medium text-amber-400\">\n                        {outliers.length} unusual configuration{outliers.length > 1 ? 's' : ''} detected\n                      </p>\n                      <p className=\"text-xs text-amber-400/70 mt-1\">\n                        Your config has values outside typical historical ranges. Results may be less reliable.\n                      </p>\n                    </div>\n                  </div>\n                  <span className=\"text-amber-400/50 text-sm\">{showOutlierDetails ? '▼' : '▶'}</span>\n                </button>\n                \n                {showOutlierDetails && (\n                  <div className=\"mt-4 space-y-2 pl-8\">\n                    {outliers.map((outlier, i) => (\n                      <div key={i} className=\"text-xs text-amber-400/80 py-1 border-b border-amber-500/20 last:border-0\">\n                        {outlier.message}\n                      </div>\n                    ))}\n                    <p className=\"text-xs text-gray-500 mt-2 pt-2\">\n                      ML models extrapolate poorly outside training data. Consider adjusting these values or interpreting results with extra caution.\n                    </p>\n                  </div>\n                )}\n              </div>\n            )}\n            \n            {/* Main Estimate Card - Dashboard B */}\n            {results && (\n              <div className=\"bg-[#111] rounded-xl p-6 border border-gray-800/50\">\n                {/* Headline Number */}\n                <div className=\"text-center mb-6\">\n                  <div className=\"text-6xl font-bold tracking-tight\" style={{ color: risk?.color || '#f97316' }}>\n                    ~{results.durationEstimate || '—'}\n                  </div>\n                  <div className=\"text-base text-gray-500 mt-1\">estimated years</div>\n                </div>\n\n                {/* Context Stats */}\n                <div className=\"flex justify-center gap-8 mb-6\">\n                  <div className=\"text-center\">\n                    <div className=\"text-xl font-semibold text-white\">\n                      {results.durationRange[0]}–{results.durationRange[1]}\n                    </div>\n                    <div className=\"text-xs text-gray-500 uppercase tracking-wide\">Range</div>\n                  </div>\n                  <div className=\"text-center\">\n                    <div className=\"text-xl font-semibold text-white\">\n                      {Math.round(results.confidence * 100)}%\n                    </div>\n                    <div className=\"text-xs text-gray-500 uppercase tracking-wide\">Confidence</div>\n                  </div>\n                  <div className=\"text-center\">\n                    <div className=\"text-xl font-semibold text-white\">\n                      {results.similar.length}\n                    </div>\n                    <div className=\"text-xs text-gray-500 uppercase tracking-wide\">Matches</div>\n                  </div>\n                </div>\n\n                {/* Range Visualization - FIXED positioning */}\n                {results.durationRange[0] !== null && (\n                  <div className=\"mb-6\">\n                    <div className=\"relative h-10 bg-[#1a1a1a] rounded-lg overflow-visible\">\n                      {/* Spread indicator */}\n                      <div \n                        className=\"absolute top-1/2 -translate-y-1/2 h-2 rounded-full\"\n                        style={{\n                          left: '10%',\n                          right: '10%',\n                          background: 'linear-gradient(90deg, #333, #60a5fa, #333)'\n                        }}\n                      />\n                      {/* Estimate marker - FIXED: using left % with transform to center */}\n                      <div \n                        className=\"absolute top-1/2 w-4 h-4 rounded-full border-2 border-[#0a0a0a]\"\n                        style={{\n                          left: `${getRangePosition(results.durationEstimate, results.durationRange[0], results.durationRange[1])}%`,\n                          transform: 'translate(-50%, -50%)',\n                          backgroundColor: risk?.color || '#f97316'\n                        }}\n                      />\n                    </div>\n                    <div className=\"flex justify-between text-xs text-gray-600 mt-2 px-1\">\n                      <span>{results.durationRange[0]} yrs</span>\n                      <span>{results.durationEstimate} yrs</span>\n                      <span>{results.durationRange[1]} yrs</span>\n                    </div>\n                  </div>\n                )}\n\n                {/* Era Span Warning */}\n                {eraSpan && !selectedEra && (\n                  <div className=\"mb-4 px-3 py-2 bg-blue-500/10 border border-blue-500/20 rounded-lg\">\n                    <p className=\"text-xs text-blue-400\">\n                      Matches span {eraSpan.join(', ')} eras. Use era filter for period-specific results.\n                    </p>\n                  </div>\n                )}\n\n                {/* Risk Assessment */}\n                {risk && (\n                  <div \n                    className=\"text-center text-sm font-medium px-4 py-2 rounded-lg\"\n                    style={{ \n                      backgroundColor: `${risk.color}15`,\n                      color: risk.color\n                    }}\n                  >\n                    {risk.description}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Calculation Breakdown */}\n            {results && results.similar.length > 0 && (\n              <div className=\"bg-[#111] rounded-xl border border-gray-800/50 overflow-hidden\">\n                <button\n                  onClick={() => setShowCalculation(!showCalculation)}\n                  className=\"w-full px-6 py-4 flex justify-between items-center hover:bg-gray-800/30 transition\"\n                >\n                  <span className=\"text-xs font-semibold text-gray-500 uppercase tracking-wider\">\n                    Calculation Breakdown\n                  </span>\n                  <span className=\"text-gray-500\">{showCalculation ? '−' : '+'}</span>\n                </button>\n                \n                {showCalculation && (\n                  <div className=\"px-6 pb-4\">\n                    <div className=\"space-y-2\">\n                      {results.similar.map((polity, i) => {\n                        const contribution = (polity.similarity / 100) * polity.duration;\n                        const isExpanded = expandedPolity === i;\n                        const fullPolity = polities.find(p => p.name === polity.name);\n                        const eraColor = ERA_COLORS[polity.era] || ERA_COLORS['Ancient'];\n                        \n                        return (\n                          <div key={i}>\n                            {/* Match Row */}\n                            <div \n                              onClick={() => setExpandedPolity(isExpanded ? null : i)}\n                              className=\"flex items-center gap-3 p-3 bg-[#0d0d0d] rounded-lg hover:bg-[#151515] transition cursor-pointer\"\n                            >\n                              <div className=\"flex-1 min-w-0\">\n                                <div className=\"flex items-center gap-2\">\n                                  <span className=\"font-medium text-white text-sm truncate\">{polity.name}</span>\n                                  <span className={`text-[10px] px-1.5 py-0.5 rounded ${eraColor.bg} ${eraColor.text}`}>\n                                    {polity.era}\n                                  </span>\n                                </div>\n                                <div className=\"text-xs text-gray-600\">\n                                  {formatYear(polity.start)}–{formatYear(polity.end)}\n                                </div>\n                              </div>\n                              <div className=\"text-right flex-shrink-0\">\n                                <div className=\"text-sm font-semibold text-blue-400\">{polity.similarity}%</div>\n                              </div>\n                              <div className=\"text-right flex-shrink-0 w-16\">\n                                <div className=\"text-sm text-gray-400\">{polity.duration} yrs</div>\n                              </div>\n                              <div className=\"text-right flex-shrink-0 w-12\">\n                                <div className=\"text-xs text-gray-600 font-mono\">\n                                  → {Math.round(contribution)}\n                                </div>\n                              </div>\n                              <div className=\"text-gray-600 text-sm\">\n                                {isExpanded ? '▼' : '▶'}\n                              </div>\n                            </div>\n                            \n                            {/* Expanded Comparison Table */}\n                            {isExpanded && fullPolity && (\n                              <ComparisonTable \n                                config={config} \n                                polity={polity}\n                                fullPolity={fullPolity}\n                              />\n                            )}\n                          </div>\n                        );\n                      })}\n                    </div>\n                    \n                    {/* Weighted Average */}\n                    <div className=\"flex justify-between items-center mt-4 pt-4 border-t border-gray-800\">\n                      <span className=\"text-sm font-semibold text-white\">Weighted Average</span>\n                      <span className=\"text-sm font-semibold text-white\">{results.durationEstimate} years</span>\n                    </div>\n                    \n                    <p className=\"text-xs text-gray-600 mt-4\">\n                      Based on {results.candidateCount} polities in database. \n                      Click any row to compare features.\n                    </p>\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Era Comparison */}\n            {eraComparison.length > 0 && !selectedEra && (\n              <div className=\"bg-[#111] rounded-xl p-6 border border-gray-800/50\">\n                <h3 className=\"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-4\">\n                  Same Config, Different Eras\n                </h3>\n                <div className=\"space-y-3\">\n                  {eraComparison.map(era => {\n                    const eraColor = ERA_COLORS[era.era] || ERA_COLORS['Ancient'];\n                    return (\n                      <div \n                        key={era.era}\n                        className=\"flex justify-between items-center py-3 border-b border-gray-800/50 last:border-0\"\n                      >\n                        <div className=\"flex items-center gap-2\">\n                          <span className={`w-2 h-2 rounded-full ${eraColor.bg.replace('/20', '')}`}></span>\n                          <span className=\"text-base text-gray-300\">{era.era}</span>\n                        </div>\n                        <div className=\"text-right\">\n                          <span className=\"font-semibold text-white text-base\">\n                            {era.durationEstimate ? `${era.durationEstimate} yrs` : '—'}\n                          </span>\n                          {era.topMatch && (\n                            <div className=\"text-xs text-gray-500 truncate max-w-[140px]\">\n                              e.g. {era.topMatch.name}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n                <p className=\"mt-4 text-xs text-gray-600\">\n                  Historical context changes outcomes. The same configuration could mean different things in different eras.\n                </p>\n              </div>\n            )}\n\n            {/* Caveat */}\n            <div className=\"bg-[#0d0d0d] rounded-xl p-5 border-l-4 border-amber-600/50\">\n              <p className=\"text-sm text-gray-500\">\n                <strong className=\"text-gray-400\">Note:</strong> This is pattern-matching, not prediction. \n                Similar configurations produced different outcomes depending on leadership, geography, \n                and luck — none of which are in our model.\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Methodology Link */}\n        <div className=\"mt-16 text-center\">\n          <a \n            href=\"/predict/methodology\" \n            className=\"text-gray-500 hover:text-gray-300 text-base transition\"\n          >\n            How does this work? Read the methodology →\n          </a>\n        </div>\n      </main>\n    </div>\n  );\n}\n\n// Parameter Control Component with Slider + Number Input\nfunction ParameterControl({ paramKey, param, value, onChange, isOutlier }) {\n  const [inputValue, setInputValue] = useState(value.toString());\n\n  useEffect(() => {\n    setInputValue(value.toString());\n  }, [value]);\n\n  const handleInputChange = (e) => {\n    setInputValue(e.target.value);\n  };\n\n  const handleInputBlur = () => {\n    const num = parseFloat(inputValue);\n    if (!isNaN(num)) {\n      onChange(paramKey, num);\n    } else {\n      setInputValue(value.toString());\n    }\n  };\n\n  const handleInputKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.target.blur();\n    }\n  };\n\n  return (\n    <div className={isOutlier ? 'relative' : ''}>\n      {isOutlier && (\n        <span className=\"absolute -left-4 top-1 text-amber-400 text-sm\" title=\"Unusual value\">⚠️</span>\n      )}\n      <div className=\"flex justify-between items-center mb-2\">\n        <label className={`text-base font-medium ${isOutlier ? 'text-amber-300' : 'text-gray-200'}`}>\n          {param.label}\n        </label>\n        <input\n          type=\"text\"\n          value={inputValue}\n          onChange={handleInputChange}\n          onBlur={handleInputBlur}\n          onKeyDown={handleInputKeyDown}\n          className={`w-16 px-2 py-1 text-right text-base font-medium border rounded focus:outline-none focus:border-blue-500 transition ${\n            isOutlier \n              ? 'bg-amber-500/10 border-amber-500/30 text-amber-300' \n              : 'bg-gray-800/50 border-gray-700/50 text-white'\n          }`}\n        />\n      </div>\n      <input\n        type=\"range\"\n        min={param.min}\n        max={param.max}\n        step={param.step}\n        value={value}\n        onChange={(e) => onChange(paramKey, e.target.value)}\n        className=\"w-full h-2 bg-gray-700/50 rounded-full appearance-none cursor-pointer\n                   [&::-webkit-slider-thumb]:appearance-none\n                   [&::-webkit-slider-thumb]:w-4\n                   [&::-webkit-slider-thumb]:h-4\n                   [&::-webkit-slider-thumb]:rounded-full\n                   [&::-webkit-slider-thumb]:bg-white\n                   [&::-webkit-slider-thumb]:cursor-pointer\n                   [&::-webkit-slider-thumb]:transition\n                   [&::-webkit-slider-thumb]:hover:bg-gray-200\n                   [&::-webkit-slider-thumb]:shadow-md\"\n      />\n      <p className=\"text-sm text-gray-500 mt-1.5\">{param.description}</p>\n    </div>\n  );\n}\n\n/**\n * COMPARISON TABLE - COLOR FIX\n * Color logic:\n * - Green: Close match (diff < 0.5)\n * - Blue: Polity value is higher\n * - Orange: Polity value is lower\n */\nfunction ComparisonTable({ config, polity, fullPolity }) {\n  const featureMapping = [\n    { key: 'hierarchy', label: 'Hierarchy' },\n    { key: 'government', label: 'Government' },\n    { key: 'information', label: 'Information' },\n    { key: 'infrastructure', label: 'Infrastructure' },\n    { key: 'weapons', label: 'Weapons' },\n    { key: 'armor', label: 'Armor' },\n    { key: 'cavalry', label: 'Cavalry' },\n    { key: 'fortifications', label: 'Fortifications' },\n    { key: 'ironWorking', label: 'Iron Working' },\n    { key: 'religion', label: 'Religion' },\n  ];\n\n  const hasRawFeatures = fullPolity?.rawFeatures;\n\n  return (\n    <div className=\"mt-2 mb-3 bg-[#080808] rounded-lg border border-gray-800/50 overflow-hidden\">\n      <div className=\"px-4 py-3 bg-[#0a0a0a] border-b border-gray-800/50 flex justify-between items-center\">\n        <span className=\"text-xs text-gray-500 uppercase tracking-wider\">\n          Feature Comparison\n        </span>\n        <span className=\"text-xs text-gray-600\">\n          {polity.similarity}% similar\n        </span>\n      </div>\n      \n      {/* Table Header */}\n      <div className=\"flex items-center px-4 py-2 bg-[#0a0a0a] border-b border-gray-800/50 text-xs text-gray-500 uppercase tracking-wider\">\n        <div className=\"w-1/3\">Feature</div>\n        <div className=\"w-1/4 text-center\">You</div>\n        <div className=\"w-1/4 text-center\">{polity.name.split(' ').slice(0, 2).join(' ')}</div>\n        <div className=\"w-1/6 text-right\">Diff</div>\n      </div>\n      \n      {/* Feature Rows - FIXED: neutral middle column, colored diff only */}\n      <div className=\"divide-y divide-gray-800/30\">\n        {featureMapping.map(({ key, label }) => {\n          const yourVal = config[key];\n          const polityVal = hasRawFeatures ? fullPolity.rawFeatures[key] : null;\n          const diff = polityVal !== null ? (polityVal - yourVal) : null;\n          \n          const isExact = diff !== null && Math.abs(diff) < 0.05;\n          const isClose = diff !== null && Math.abs(diff) < 0.5;\n          \n          return (\n            <div key={key} className=\"flex items-center px-4 py-2.5 text-sm hover:bg-[#0d0d0d] transition\">\n              <div className=\"w-1/3 text-gray-400\">{label}</div>\n              <div className=\"w-1/4 text-center text-white font-medium\">{yourVal}</div>\n              {/* FIXED: Middle column now neutral gray */}\n              <div className=\"w-1/4 text-center text-gray-300\">\n                {polityVal !== null ? polityVal : '—'}\n              </div>\n              {/* Diff column carries all color meaning */}\n              <div className=\"w-1/6 text-right\">\n                {diff !== null ? (\n                  <span className={`text-xs px-2 py-0.5 rounded ${\n                    isExact \n                      ? 'bg-green-500/20 text-green-400' \n                      : isClose \n                        ? 'bg-green-500/10 text-green-400/70'\n                        : diff > 0\n                          ? 'bg-blue-500/20 text-blue-400'\n                          : 'bg-orange-500/20 text-orange-400'\n                  }`}>\n                    {isExact ? '=' : diff > 0 ? `+${diff.toFixed(1)}` : diff.toFixed(1)}\n                  </span>\n                ) : (\n                  <span className=\"text-gray-600 text-xs\">—</span>\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n      \n      {/* Footer */}\n      <div className=\"px-4 py-3 bg-[#0a0a0a] border-t border-gray-800/50\">\n        <div className=\"flex justify-between items-center\">\n          <p className=\"text-xs text-gray-600\">\n            <span className=\"text-green-400\">Green</span> = close · \n            <span className=\"text-blue-400 ml-1\">Blue</span> = higher · \n            <span className=\"text-orange-400 ml-1\">Orange</span> = lower\n          </p>\n          <p className=\"text-xs text-gray-500\">\n            {fullPolity.era} · {fullPolity.duration} years\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}